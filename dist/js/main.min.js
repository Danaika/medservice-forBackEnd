"use strict";var currentUserAgent=navigator.userAgent.toLowerCase(),isIphone=-1<currentUserAgent.indexOf("iphone")||-1<currentUserAgent.indexOf("ipad"),isSafari=-1<currentUserAgent.indexOf("safari")&&-1===currentUserAgent.indexOf("win")&&(-1===currentUserAgent.indexOf("mobile")||isIphone);console.log(currentUserAgent,"isSafari",isSafari);var blocks=document.getElementsByClassName("block"),blocks_wrapper=document.getElementsByClassName("block-wrapper"),filter=document.getElementsByClassName("filter"),inside_block=document.getElementsByClassName("inside-block"),menu_list=document.getElementsByClassName("menu-list"),content_in=document.getElementsByClassName("content__in"),return_list_item=document.getElementsByClassName("return-list__item");window.onresize=function(){location.reload()};var winowHeight=window.innerHeight,winowWidth=window.innerWidth,container=document.querySelector(".container"),MAIN_PANEL=document.querySelector(".main-panel"),mp_header=document.querySelector(".main-panel__header"),mp_footer=document.querySelector(".main-panel__footer"),mp_menu_list=document.querySelector(".menu-list"),contentEl=document.querySelector(".content"),block_heads=document.querySelector(".block-head"),mainContent_footer=document.querySelector(".mainContent_footer");function getStyle(e,t){return getComputedStyle(e)[t]}var mp_left,mp_h,mp_w,mp_header_h,mp_footer_h,content_h,content_w,block_head_h,mainContent_footer_h,container_pt=getStyle(container,"padding-top"),container_pb=getStyle(container,"padding-bottom"),container_pl=getStyle(container,"padding-left"),container_pr=getStyle(container,"padding-right"),mp_pt=getStyle(MAIN_PANEL,"padding-top"),mp_pb=getStyle(MAIN_PANEL,"padding-bottom"),menu_list_mb=getStyle(mp_menu_list,"margin-bottom"),menu_list_pt=getStyle(mp_menu_list,"padding-top");if(content_h=winowHeight-parseInt(container_pt)-parseInt(container_pb),container.style.height=winowHeight-(parseInt(container_pt)+parseInt(container_pb))+"px",isSafari&&(container.style.height=winowHeight),MAIN_PANEL.style.top=container_pt,mp_h=winowHeight-parseInt(container_pt)-parseInt(container_pb)-parseInt(mp_pt)-parseInt(mp_pb),MAIN_PANEL.style.height=mp_h+"px",content_w=winowWidth-(mp_w=MAIN_PANEL.clientWidth)-parseInt(container_pl)-parseInt(container_pr),860<parseInt(content_w)&&(content_w=860),mp_left=winowWidth/2-(parseInt(mp_w)+parseInt(content_w))/2,MAIN_PANEL.style.left=mp_left+"px",mp_header_h=mp_header.clientHeight,mp_footer_h=mp_footer.clientHeight,mp_menu_list.style.height=parseInt(mp_h)-parseInt(mp_header_h)-parseInt(mp_footer_h)-parseInt(menu_list_mb)-parseInt(menu_list_pt)+"px",contentEl.style.height=content_h+"px",content_w=0===content_w?mp_w:content_w,contentEl.style.width="".concat(content_w,"px"),contentEl.style.top=""+container_pt,contentEl.style.left=mp_left+mp_w+"px",block_head_h=block_heads.clientHeight,mainContent_footer_h=mainContent_footer.clientHeight,mainContent_footer.style.right=parseInt(container_pr)+"px",mainContent_footer.style.bottom=parseInt(container_pb)+"px",mainContent_footer.style.width=content_w+"px",console.log("content_w = "+content_w),1024<=window.innerWidth){var containerBox=container.getBoundingClientRect(),contentBox=contentEl.getBoundingClientRect();mainContent_footer.style.right=containerBox.right-contentBox.right+"px",mainContent_footer.style.bottom=containerBox.bottom-contentBox.bottom+"px",isSafari&&(mainContent_footer.style.bottom=parseInt(container_pb)+"px")}if(window.innerWidth<=1023&&(contentEl.style.height=content_h-56+"px",MAIN_PANEL.classList.contains("folded")?MAIN_PANEL.style.height=winowHeight-parseInt(container_pt)-parseInt(container_pb)-parseInt(mp_pt)-parseInt(mp_pb)+"px":MAIN_PANEL.style.height="auto",contentEl.addEventListener("click",function(e){MAIN_PANEL.classList.contains("folded")||(MAIN_PANEL.style.height="auto")}),contentEl.style.left=parseInt(container_pl)+"px",contentEl.style.width=winowWidth-parseInt(container_pl)-parseInt(container_pr)+"px",document.querySelector(".mob-menu").addEventListener("click",function(e){mp_header_h=mp_header.clientHeight,mp_footer_h=mp_footer.clientHeight,mp_footer_h=46,mp_pt=35,mp_pb=33,mp_h=winowHeight-parseInt(container_pt)-parseInt(container_pb)-parseInt(mp_pt)-parseInt(mp_pb),MAIN_PANEL.style.height=mp_h+"px",mp_menu_list.style.height=mp_h-parseInt(mp_header_h)-parseInt(mp_footer_h)-parseInt(menu_list_mb)-parseInt(menu_list_pt)+"px"})),isSafari){for(var i=0;i<menu_list.length;i++)menu_list[i].style.display="-webkit-box";for(var _i=0;_i<content_in.length;_i++)content_in[_i].style.display="-webkit-box";for(i=0;i<return_list_item.length;i++)return_list_item[i].style.display="-webkit-box";if(1023<=window.innerWidth){for(var _i2=0;_i2<blocks.length;_i2++)blocks[_i2].style.display="-webkit-inline-flex";for(_i2=0;_i2<blocks_wrapper.length;_i2++)blocks_wrapper[_i2].style.display="-webkit-inline-flex";block_heads.style.display="-webkit-inline-flex";for(var _i3=0;_i3<inside_block.length;_i3++)inside_block[_i3].style.display="-webkit-flex";for(var _i4=0;_i4<filter.length;_i4++)filter[_i4].style.height="40px"}if(834<window.innerWidth&&window.innerWidth<=1112){for(var _i5=0;_i5<blocks.length;_i5++)blocks[_i5].style.display="-webkit-inline-flex";for(_i5=0;_i5<blocks_wrapper.length;_i5++)blocks_wrapper[_i5].style.display="-webkit-inline-flex";console.log("mp_w = ",mp_w),contentEl.style.width=content_w+0+"px"}if(1023<=window.innerWidth&&window.innerWidth<=912){block_heads.style.display="-webkit-inline-flex";for(var _i7=0;_i7<inside_block.length;_i7++)inside_block[_i7].style.display="-webkit-inline-flex";for(var _i8=0;_i8<filter.length;_i8++)filter[_i8].style.height="40px"}if(window.innerWidth<=1023&&(block_heads.style.display="-webkit-box"),1023<=window.innerWidth&&window.innerWidth<=1300)for(var cols=document.getElementsByClassName("col"),n=0;n<cols.length;n++){setWebkitFlex(item=cols[n])}if(window.innerWidth<=834)for(var _i9=0;_i9<filter.length;_i9++)filter[_i9].style.display="-webkit-flex"}function setWebkitFlex(e){e.style.display="-webkit-flex"}var measureUnits,drugsReleaseForms,createProtocolBtn=document.querySelector("#createProtocolBtn"),createProtocolTempate=document.querySelector("#createProtocolDialog").innerHTML,saveProtocolBtn=document.querySelector("#saveProtocolBtn"),saveProtocolDialog=document.querySelector("#saveProtocolDialog").innerHTML,addRecomendBtn=document.querySelector("#addRecomend"),addRecomendTempate=document.querySelector("#addRecomendDialog").innerHTML,template=document.querySelector("#modal-template").innerHTML,dialogSimpleTemplate=document.querySelector("#dialogSimpleTemplate").innerHTML;function saveProtocolDialogShow(){showCreateDialog(prepareTemplate(dialogSimpleTemplate,"Протокол № 1234 успешно сохранен","large"))}function deliverySuccessDialogShow(){showCreateDialog(prepareTemplate(dialogSimpleTemplate,"Доставка оформлена",""))}function createProtocolDialogShow(){showCreateDialog(prepareTemplate(dialogSimpleTemplate,"Протокол успешно синхронизирован со страницей пациента","synch"))}function addNewRecomend(){console.log("Add New Recomend!!!")}function createDialog(e){var n=document.createElement("div");n.className="popup",n.innerHTML=template;var t=n.querySelector(".overlay");t.classList.add("dialog--flex-display"),n.querySelector(".popup__container").innerHTML=e;var o=n.querySelector("#cancel");o&&o.addEventListener("click",function(e){document.body.removeChild(n)});var i=n.querySelector("#create");return t.addEventListener("click",function(e){e.target===t&&document.body.removeChild(n)}),{container:n,open:function(){document.body.appendChild(n)},close:function(){document.body.removeChild(n)},setAction:function(t){i&&i.addEventListener("click",function(e){document.body.removeChild(n),t&&t()})}}}function prepareTemplate(e,t,n){var o=document.createElement("div");o.innerHTML=e,o.querySelector(".dial-window__text").textContent=t,n&&o.querySelector(".dial-window--simple").classList.add(n);return o.innerHTML}function showCreateDialog(e,t){var n=createDialog(e,t);return n.open(),n.setAction(t),n}saveProtocolBtn.addEventListener("click",function(e){return showCreateDialog(saveProtocolDialog,saveProtocolDialogShow)}),createProtocolBtn.addEventListener("click",function(e){var o=showCreateDialog(createProtocolTempate,saveProtocolDialogShow);o.container.querySelectorAll("input[name=radio]").forEach(function(n){n.addEventListener("click",function(e){var t=n.closest(".dial-layer");o.container.querySelector(".dial-layer.active").classList.remove("active"),t.classList.add("active")}),n.closest("label").nextElementSibling.addEventListener("click",function(){console.log(n.checked),n.checked=!n.checked,n.click()})}),document.querySelectorAll(".drop-list__input").forEach(function(n){var o=n.closest(".drop-list");n.addEventListener("focus",function(e){o.classList.add("active")}),n.addEventListener("blur",function(e){setTimeout(function(){},200)}),o.querySelector(".drop-list__res").addEventListener("click",function(e){if("UL"!==e.target.tagName){var t="SPAN"===e.target.tagName?e.target:e.target.querySelector("span");n.value=t.innerHTML,o.classList.remove("active")}})});var t=o.container.querySelector("#btn-sync");o.container.querySelector("#btn-assign").addEventListener("click",function(e){o.close(),createProtocolDialogShow()}),t.addEventListener("click",function(e){o.close(),deliverySuccessDialogShow()})}),addRecomendBtn.addEventListener("click",function(e){var t=showCreateDialog(addRecomendTempate,addNewRecomend).container,n=t.querySelector(".textarea-field"),o=t.querySelector(".overlay");n.addEventListener("focus",function(){if(window.innerWidth<=1024){var e=window.innerWidth<=768&&425<window.innerWidth?"180px":"50px";o.style.paddingTop=e,o.style.alignItems="flex-start"}})});var addNewDrugBtn=document.querySelector("#addNewDrug"),addNewDrugTemplate=document.querySelector("#addNewDrugTemplate").innerHTML;function addNewDrug(){console.log("Add New Drug!!!"),showCreateDialog(prepareTemplate(dialogSimpleTemplate,"Препарат успешно добавлен",""))}function togleActiveClass(e){if(e.classList.contains("active"))return e.classList.remove("active"),!1;var t=e.parentNode.querySelector(".active");t&&t.classList.remove("active"),e.classList.add("active")}function togleActiveClass_drugs(e){if(e.classList.contains("active"))return e.classList.remove("active"),removeActiveSrc(e),!1;var t=e.parentNode.querySelector(".active");t&&(t.classList.remove("active"),removeActiveSrc(t)),e.classList.add("active"),setActiveSrc(e)}function setActiveSrc(e){var t=e.querySelector("use"),n=t.getAttribute("xlink:href");-1<n.indexOf("_hover")?n=n.replace("_hover","_active"):n+="_active",t.setAttribute("xlink:href",n)}function removeActiveSrc(e){if(!e.classList.contains("active")){var t=e.querySelector("use"),n=t.getAttribute("xlink:href");n=n.replace("_active","_hover"),t.setAttribute("xlink:href",n)}}function toggleHoverClass(e,t){if(!e.classList.contains("active")){var n=e.querySelector("use"),o=n.getAttribute("xlink:href");"over"===t?o=o.replace("_hover",""):o+="_hover",n.setAttribute("xlink:href",o)}}function measureUnitsHandler(e){e.addEventListener("click",function(){togleActiveClass(e)})}function drugsReleaseFormsHandler(e){e.addEventListener("click",function(){togleActiveClass_drugs(e)}),e.addEventListener("mouseenter",function(){toggleHoverClass(e,"over")}),e.addEventListener("mouseleave",function(){toggleHoverClass(e,"out")})}function createIntervalInput(e){var t=e.getElementsByClassName("button-reg__field")[0],n=e.getElementsByClassName("button-reg__minus")[0],o=e.getElementsByClassName("button-reg__plus")[0],i=parseInt(t.value)||0,r=parseInt(t.getAttribute("increment"))||1;n.addEventListener("click",function(e){i=i-r<0?0:i-r,t.value=i}),o.addEventListener("click",function(e){i+=r,t.value=i}),t.addEventListener("blur",function(e){isNaN(parseInt(t.value))||(i=parseInt(t.value)),t.value=i})}addNewDrugBtn.addEventListener("click",function(e){var t=showCreateDialog(addNewDrugTemplate,addNewDrug).container;if(isSafari){var n=t.querySelector(".input-field__wrap"),o=n.querySelector(".drag-name"),i=getStyle(o,"padding-left"),r=getStyle(o,"padding-right"),l=n.getBoundingClientRect().width-parseInt(i)-parseInt(r);o.style.width="".concat(l,"px")}measureUnits=t.querySelectorAll(".unit");for(var a=0;a<measureUnits.length;a++){measureUnitsHandler(measureUnits[a])}drugsReleaseForms=t.querySelectorAll(".dial-window--drug .drugs");for(var c=0;c<drugsReleaseForms.length;c++){drugsReleaseFormsHandler(drugsReleaseForms[c])}createIntervalInput(document.querySelector(".increment-input--dialog"))});for(var calendar=new CalendarClock(".datetime"),interval=setInterval(function(){return calendar.update()},1e3),buttons=document.querySelectorAll(".btn--setActive"),i1=0;i1<buttons.length;i1++){setActive(item=buttons[i1])}function setActive(t){t.addEventListener("click",function(){if(t.classList.contains("active"))return t.classList.remove("active"),!1;var e=t.parentNode.querySelector("button.active");e&&e.classList.remove("active"),t.classList.add("active")})}for(var protocolsUl=document.querySelector(".menu-list"),protocolsItems=protocolsUl.querySelectorAll(".menu-list__item"),i2=0;i2<protocolsItems.length;i2++){setActiveProtocolHandler(item=protocolsItems[i2])}function setActiveProtocolHandler(n){n.addEventListener("click",function(e){e.preventDefault();var t=protocolsUl.querySelector(".menu-list__item.active");t&&t.classList.remove("active"),n.classList.add("active")})}var protocolsUl_height,searchProtocolsFld=document.getElementById("searchProtocols"),emptyResultsDiv=document.querySelector(".isEmptyResults"),isLoad=!0;function findProtocolHandler(e,t){return-1===e.querySelector("a").innerHTML.toLowerCase().indexOf(t)?(e.classList.add("hide"),-1):(e.classList.remove("hide"),1)}searchProtocolsFld.addEventListener("focus",function(e){if(window.innerWidth<=1024){isLoad&&(protocolsUl_height=protocolsUl.getBoundingClientRect().height,isLoad=!1);var t=protocolsUl_height-230;protocolsUl.style.height="".concat(t,"px")}}),searchProtocolsFld.addEventListener("blur",function(e){window.innerWidth<=1024&&(protocolsUl.style.height="".concat(protocolsUl_height,"px"))}),searchProtocolsFld.addEventListener("input",function(e){console.log("input");var o=e.target.value.toLowerCase();throttle(function(){for(var e=protocolsUl.querySelectorAll(".menu-list__item"),t=e.length,n=0;n<e.length;n++){t+=findProtocolHandler(e[n],o)}0===t?emptyResultsDiv.classList.remove("hidden"):emptyResultsDiv.classList.add("hidden")},3e3)()});var protocolBtn=document.querySelector(".btn-protocol"),returnList=document.querySelector(".return-list"),menuList=document.querySelector(".menu-list"),menuList1stChild=menuList.firstElementChild,menuListLi_marginBottom=15;protocolBtn.addEventListener("click",function(e){MAIN_PANEL.classList.add("return-unfold");var t=menuList.getBoundingClientRect(),n=menuList1stChild.getBoundingClientRect(),o=t.height-n.height-menuListLi_marginBottom;returnList.style.height=o+"px",returnList.style.minHeight=o+"px"});var returnBtn=document.querySelector(".btn-return");if(returnBtn.addEventListener("click",function(e){MAIN_PANEL.classList.remove("return-unfold")}),window.innerWidth<=1023){var footer=document.querySelector(".block--footer"),btnRecomendWrap=document.querySelector(".btn-recomend-wrap"),addRecomendsBtn=footer.removeChild(footer.querySelector(".btn-recomend"));btnRecomendWrap.appendChild(addRecomendsBtn)}if(window.innerWidth<1348&&1024<=window.innerWidth)for(blocks=document.querySelectorAll(".block"),i=0;i<blocks.length;i++){var current=blocks[i];if(!current.classList.contains("block-head")&&!current.classList.contains("block--footer")){var leftCol=current.querySelector(".col .block__layer--left"),rightCol=current.querySelector(".col .block__layer--right"),displacedLeft=current.querySelector(".block__layer--center .inside-block:first-child"),displacedRight=current.querySelector(".block__layer--center .inside-block:last-child");leftCol.insertBefore(displacedLeft,leftCol.firstElementChild),rightCol.insertBefore(displacedRight,rightCol.firstElementChild)}}for(var returnItemsList=document.querySelectorAll(".return-list__item"),i4=0;i4<returnItemsList.length;i4++){var item;toggleActiveClassHandler(item=returnItemsList[i4])}function toggleActiveClassHandler(t){t.addEventListener("click",function(e){return togleActiveClass(t)})}var menu_btn=document.querySelector(".mob-menu"),main_panel=document.querySelector(".main-panel"),content=document.querySelector(".content");menu_btn.addEventListener("click",function(e){return main_panel.classList.add("folded")}),content.addEventListener("click",function(e){return main_panel.classList.remove("folded")});var button=document.querySelector("#testModal"),POPUP_TEMPLATE=document.querySelector("#modal-template").innerHTML,popupIndex=1;function createModal(t,n){var o=document.createElement("div");o.className="popup",o.innerHTML=POPUP_TEMPLATE;var e=t.dataset.popupText,i=t.dataset.popupPosition;o.querySelector(".dial-window").classList.add(i),o.querySelector(".dial-window__text").innerHTML=e,o.querySelector(".popup__container").classList.add("pos_abs"),n.classList.contains("main-panel")||(document.querySelector(".main-panel").style.zIndex="0");return o.querySelector("#popupClose").addEventListener("click",function(e){n.removeChild(o),t.classList.remove("hightlight"),document.querySelector(".main-panel").style.zIndex="100",findPopup(++popupIndex)}),o}function showModal(e){var t=e.dataset.popupPosition,n=getClosestParent(e,"popup-wrapper"),o=createModal(e,n);n.appendChild(o);var i=o.querySelector(".popup__container"),r=t.split("-"),l=r[1],a=r[0],c=e.getBoundingClientRect(),s="left"===l?c.left:c.right-i.offsetWidth-10,d="top"===a?c.bottom+35:c.top-i.offsetHeight-50;e.classList.contains("mainContent_footer")&&(s-=20,d+=20),e.classList.add("hightlight"),i.style.left=s+"px",i.style.top=d+"px"}function findPopup(e){var t='[data-popup-index="'+e+'"]',n=document.querySelector(t);if(n){if(window.innerWidth<1024&&3===e)return!1;showModal(n)}}function getClosestParent(e,t){var n=e.parentNode;if(n)for(;n;){if(n.classList.contains(t))return n;n=n.parentNode}}function throttle(e,t){var n,o,i=!1;function r(){if(i)return n=arguments,void(o=this);e.apply(this,arguments),i=!0,setTimeout(function(){i=!1,n&&(r.apply(o,n),n=o=null)},t)}return r}window.addEventListener("DOMContentLoaded",function(e){setTimeout(function(){},500)});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNzcy5qcyIsImRpYWxvZ3MuanMiLCJldmVudHMuanMiLCJtZW51LmpzIiwicG9wdXAuanMiLCJ0aHJvdHRsZS5qcyJdLCJuYW1lcyI6WyJjdXJyZW50VXNlckFnZW50IiwibmF2aWdhdG9yIiwidXNlckFnZW50IiwidG9Mb3dlckNhc2UiLCJpc0lwaG9uZSIsImluZGV4T2YiLCJpc1NhZmFyaSIsImNvbnNvbGUiLCJsb2ciLCJibG9ja3MiLCJkb2N1bWVudCIsImdldEVsZW1lbnRzQnlDbGFzc05hbWUiLCJibG9ja3Nfd3JhcHBlciIsImZpbHRlciIsImluc2lkZV9ibG9jayIsIm1lbnVfbGlzdCIsImNvbnRlbnRfaW4iLCJyZXR1cm5fbGlzdF9pdGVtIiwid2luZG93Iiwib25yZXNpemUiLCJsb2NhdGlvbiIsInJlbG9hZCIsIndpbm93SGVpZ2h0IiwiaW5uZXJIZWlnaHQiLCJ3aW5vd1dpZHRoIiwiaW5uZXJXaWR0aCIsImNvbnRhaW5lciIsInF1ZXJ5U2VsZWN0b3IiLCJNQUlOX1BBTkVMIiwibXBfaGVhZGVyIiwibXBfZm9vdGVyIiwibXBfbWVudV9saXN0IiwiY29udGVudEVsIiwiYmxvY2tfaGVhZHMiLCJtYWluQ29udGVudF9mb290ZXIiLCJnZXRTdHlsZSIsImVsZW0iLCJwcm9wZXJ0eU5hbWUiLCJnZXRDb21wdXRlZFN0eWxlIiwibXBfbGVmdCIsIm1wX2giLCJtcF93IiwibXBfaGVhZGVyX2giLCJtcF9mb290ZXJfaCIsImNvbnRlbnRfaCIsImNvbnRlbnRfdyIsImJsb2NrX2hlYWRfaCIsIm1haW5Db250ZW50X2Zvb3Rlcl9oIiwiY29udGFpbmVyX3B0IiwiY29udGFpbmVyX3BiIiwiY29udGFpbmVyX3BsIiwiY29udGFpbmVyX3ByIiwibXBfcHQiLCJtcF9wYiIsIm1lbnVfbGlzdF9tYiIsIm1lbnVfbGlzdF9wdCIsInBhcnNlSW50Iiwic3R5bGUiLCJoZWlnaHQiLCJ0b3AiLCJjbGllbnRXaWR0aCIsImxlZnQiLCJjbGllbnRIZWlnaHQiLCJ3aWR0aCIsImNvbmNhdCIsInJpZ2h0IiwiYm90dG9tIiwiY29udGFpbmVyQm94IiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwiY29udGVudEJveCIsImNsYXNzTGlzdCIsImNvbnRhaW5zIiwiYWRkRXZlbnRMaXN0ZW5lciIsImUiLCJpIiwibGVuZ3RoIiwiZGlzcGxheSIsIl9pIiwiX2kyIiwiX2kzIiwiX2k0IiwiX2k1IiwiX2k3IiwiX2k4IiwiY29scyIsIm4iLCJzZXRXZWJraXRGbGV4IiwiaXRlbSIsIl9pOSIsIm1lYXN1cmVVbml0cyIsImRydWdzUmVsZWFzZUZvcm1zIiwiY3JlYXRlUHJvdG9jb2xCdG4iLCJjcmVhdGVQcm90b2NvbFRlbXBhdGUiLCJpbm5lckhUTUwiLCJzYXZlUHJvdG9jb2xCdG4iLCJzYXZlUHJvdG9jb2xEaWFsb2ciLCJhZGRSZWNvbWVuZEJ0biIsImFkZFJlY29tZW5kVGVtcGF0ZSIsInRlbXBsYXRlIiwiZGlhbG9nU2ltcGxlVGVtcGxhdGUiLCJzYXZlUHJvdG9jb2xEaWFsb2dTaG93Iiwic2hvd0NyZWF0ZURpYWxvZyIsInByZXBhcmVUZW1wbGF0ZSIsImRlbGl2ZXJ5U3VjY2Vzc0RpYWxvZ1Nob3ciLCJjcmVhdGVQcm90b2NvbERpYWxvZ1Nob3ciLCJhZGROZXdSZWNvbWVuZCIsImNyZWF0ZURpYWxvZyIsImRpYWxvZ1RlbXBhdGUiLCJjcmVhdGVFbGVtZW50IiwiY2xhc3NOYW1lIiwib3ZlcmxheSIsImFkZCIsImNsb3NlQnV0dG9uIiwiYm9keSIsInJlbW92ZUNoaWxkIiwiY3JlYXRlQnV0dG9uIiwidGFyZ2V0Iiwib3BlbiIsImFwcGVuZENoaWxkIiwiY2xvc2UiLCJzZXRBY3Rpb24iLCJhY3Rpb24iLCJ0ZXh0IiwiZGl2IiwidGV4dENvbnRlbnQiLCJhZGRBY3Rpb24iLCJkaWFsb2ciLCJxdWVyeVNlbGVjdG9yQWxsIiwiZm9yRWFjaCIsInIiLCJsYXllciIsImNsb3Nlc3QiLCJyZW1vdmUiLCJuZXh0RWxlbWVudFNpYmxpbmciLCJjaGVja2VkIiwiY2xpY2siLCJpbnB1dCIsImRyb3BMaXN0Iiwic2V0VGltZW91dCIsImV2ZW50IiwidGFnTmFtZSIsInNwYW4iLCJ2YWx1ZSIsInN5bmNCdG4iLCJ0ZXh0YXJlYSIsInBhZGRpbmdUb3AiLCJhbGlnbkl0ZW1zIiwiYWRkTmV3RHJ1Z0J0biIsImFkZE5ld0RydWdUZW1wbGF0ZSIsImFkZE5ld0RydWciLCJ0b2dsZUFjdGl2ZUNsYXNzIiwiYWN0aXZlQnRuIiwicGFyZW50Tm9kZSIsInRvZ2xlQWN0aXZlQ2xhc3NfZHJ1Z3MiLCJyZW1vdmVBY3RpdmVTcmMiLCJzZXRBY3RpdmVTcmMiLCJpY29uIiwic3JjIiwiZ2V0QXR0cmlidXRlIiwicmVwbGFjZSIsInNldEF0dHJpYnV0ZSIsInRvZ2dsZUhvdmVyQ2xhc3MiLCJ0eXBlIiwibWVhc3VyZVVuaXRzSGFuZGxlciIsInVuaXQiLCJkcnVnc1JlbGVhc2VGb3Jtc0hhbmRsZXIiLCJjcmVhdGVJbnRlcnZhbElucHV0IiwibWludXNCdG4iLCJwbHVzQnRuIiwiaW5jcmVtZW50IiwiaXNOYU4iLCJkcmFnTmFtZUlucHV0V3JhcHBlciIsImRyYWdOYW1lSW5wdXQiLCJwbCIsInByIiwiaTUiLCJpNiIsImNhbGVuZGFyIiwiQ2FsZW5kYXJDbG9jayIsImludGVydmFsIiwic2V0SW50ZXJ2YWwiLCJ1cGRhdGUiLCJidXR0b25zIiwiaTEiLCJzZXRBY3RpdmUiLCJwcm90b2NvbHNVbCIsInByb3RvY29sc0l0ZW1zIiwiaTIiLCJzZXRBY3RpdmVQcm90b2NvbEhhbmRsZXIiLCJwcmV2ZW50RGVmYXVsdCIsImFjdGl2ZUl0ZW0iLCJwcm90b2NvbHNVbF9oZWlnaHQiLCJzZWFyY2hQcm90b2NvbHNGbGQiLCJnZXRFbGVtZW50QnlJZCIsImVtcHR5UmVzdWx0c0RpdiIsImlzTG9hZCIsImZpbmRQcm90b2NvbEhhbmRsZXIiLCJrZXkiLCJ0aHJvdHRsZSIsImxpcyIsImNvdW50IiwiaTMiLCJwcm90b2NvbEJ0biIsInJldHVybkxpc3QiLCJtZW51TGlzdCIsIm1lbnVMaXN0MXN0Q2hpbGQiLCJmaXJzdEVsZW1lbnRDaGlsZCIsIm1lbnVMaXN0TGlfbWFyZ2luQm90dG9tIiwibWVudUxpc3RCb3giLCJtZW51TGlzdDFzdENoaWxkQm94IiwibWluSGVpZ2h0IiwicmV0dXJuQnRuIiwiZm9vdGVyIiwiYnRuUmVjb21lbmRXcmFwIiwiYWRkUmVjb21lbmRzQnRuIiwiY3VycmVudCIsImxlZnRDb2wiLCJyaWdodENvbCIsImRpc3BsYWNlZExlZnQiLCJkaXNwbGFjZWRSaWdodCIsImluc2VydEJlZm9yZSIsInJldHVybkl0ZW1zTGlzdCIsImk0IiwidG9nZ2xlQWN0aXZlQ2xhc3NIYW5kbGVyIiwibWVudV9idG4iLCJtYWluX3BhbmVsIiwiY29udGVudCIsImJ1dHRvbiIsIlBPUFVQX1RFTVBMQVRFIiwicG9wdXBJbmRleCIsImNyZWF0ZU1vZGFsIiwicGFyZW50QmxvY2siLCJkYXRhc2V0IiwicG9wdXBUZXh0IiwiYW5jaG9yQ2xhc3MiLCJwb3B1cFBvc2l0aW9uIiwiekluZGV4IiwiZmluZFBvcHVwIiwic2hvd01vZGFsIiwicG9zaXRpb24iLCJnZXRDbG9zZXN0UGFyZW50IiwibW9kYWwiLCJjb250ZW50QmxvY2siLCJwb3MiLCJzcGxpdCIsIngiLCJ5IiwiY29vcmRzIiwib2Zmc2V0V2lkdGgiLCJvZmZzZXRIZWlnaHQiLCJpbmRleCIsInNlbGVjdG9yIiwicGFyZW50IiwiZnVuYyIsIm1zIiwic2F2ZWRBcmdzIiwic2F2ZWRUaGlzIiwiaXNUaHJvdHRsZWQiLCJ3cmFwcGVyIiwiYXJndW1lbnRzIiwidGhpcyIsImFwcGx5Il0sIm1hcHBpbmdzIjoiQUFBQSxhQUVBLElBQUFBLGlCQUFBQyxVQUFBQyxVQUFBQyxjQUNBQyxVQUFBLEVBQUFKLGlCQUFBSyxRQUFBLFlBQUEsRUFBQUwsaUJBQUFLLFFBQUEsUUFDQUMsVUFBQSxFQUFBTixpQkFBQUssUUFBQSxZQUFBLElBQUFMLGlCQUFBSyxRQUFBLFVBQUEsSUFBQUwsaUJBQUFLLFFBQUEsV0FBQUQsVUFDQUcsUUFBQUMsSUFBQVIs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S0FDQXROLEVBQUExQixTQUFBaUIsY0FBQWdPLEdBRUEsR0FBQXZOLEVBQUEsQ0FDQSxHQUFBbEIsT0FBQU8sV0FBQSxNQUFBLElBQUFpTyxFQUFBLE9BQUEsRUFDQVosVUFBQTFNLElBSUEsU0FBQTRNLGlCQUFBNU0sRUFBQXlFLEdBQ0EsSUFBQStJLEVBQUF4TixFQUFBb0gsV0FDQSxHQUFBb0csRUFDQSxLQUFBQSxHQUFBLENBQ0EsR0FBQUEsRUFBQXRMLFVBQUFDLFNBQUFzQyxHQUVBLE9BQUErSSxFQUVBQSxFQUFBQSxFQUFBcEcsWUN4RkEsU0FBQThDLFNBQUF1RCxFQUFBQyxHQUNBLElBQ0FDLEVBQ0FDLEVBRkFDLEdBQUEsRUFJQSxTQUFBQyxJQUNBLEdBQUFELEVBSUEsT0FGQUYsRUFBQUksZUFDQUgsRUFBQUksTUFJQVAsRUFBQVEsTUFBQUQsS0FBQUQsV0FFQUYsR0FBQSxFQUNBdkgsV0FBQSxXQUNBdUgsR0FBQSxFQUVBRixJQUNBRyxFQUFBRyxNQUFBTCxFQUFBRCxHQUNBQSxFQUFBQyxFQUFBLE9BRUFGLEdBR0EsT0FBQUksRUR0QkFoUCxPQUFBc0QsaUJBQUEsbUJBQUEsU0FBQUMsR0FDQWlFLFdBQUEsYUFFQSIsImZpbGUiOiJtYWluLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuLy9hbGVydChuYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkpO1xudmFyIGN1cnJlbnRVc2VyQWdlbnQgPSBuYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCk7XG52YXIgaXNJcGhvbmUgPSBjdXJyZW50VXNlckFnZW50LmluZGV4T2YoJ2lwaG9uZScpID4gLTEgfHwgY3VycmVudFVzZXJBZ2VudC5pbmRleE9mKCdpcGFkJykgPiAtMTtcbnZhciBpc1NhZmFyaSA9IChjdXJyZW50VXNlckFnZW50LmluZGV4T2YoJ3NhZmFyaScpID4gLTEgJiYgY3VycmVudFVzZXJBZ2VudC5pbmRleE9mKCd3aW4nKSA9PT0gLTEpICYmIChjdXJyZW50VXNlckFnZW50LmluZGV4T2YoJ21vYmlsZScpID09PSAtMSB8fCBpc0lwaG9uZSk7XG5jb25zb2xlLmxvZyhjdXJyZW50VXNlckFnZW50LCAnaXNTYWZhcmknLCBpc1NhZmFyaSk7XG52YXIgYmxvY2tzID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcImJsb2NrXCIpO1xudmFyIGJsb2Nrc193cmFwcGVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcImJsb2NrLXdyYXBwZXJcIik7Ly9mb3IgYmFjay1lbmRcbnZhciBmaWx0ZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwiZmlsdGVyXCIpO1xudmFyIGluc2lkZV9ibG9jayA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJpbnNpZGUtYmxvY2tcIik7XG52YXIgbWVudV9saXN0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcIm1lbnUtbGlzdFwiKTtcbnZhciBjb250ZW50X2luID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcImNvbnRlbnRfX2luXCIpO1xudmFyIHJldHVybl9saXN0X2l0ZW0gPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwicmV0dXJuLWxpc3RfX2l0ZW1cIik7XG53aW5kb3cub25yZXNpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgbG9jYXRpb24ucmVsb2FkKCk7XG59O1xuXG52YXIgd2lub3dIZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQ7XG52YXIgd2lub3dXaWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoO1xudmFyIGNvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY29udGFpbmVyXCIpO1xudmFyIE1BSU5fUEFORUwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm1haW4tcGFuZWxcIik7XG52YXIgbXBfaGVhZGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tYWluLXBhbmVsX19oZWFkZXJcIik7XG52YXIgbXBfZm9vdGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tYWluLXBhbmVsX19mb290ZXJcIik7XG52YXIgbXBfbWVudV9saXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tZW51LWxpc3RcIik7XG52YXIgY29udGVudEVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jb250ZW50XCIpO1xudmFyIGJsb2NrX2hlYWRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5ibG9jay1oZWFkXCIpO1xudmFyIG1haW5Db250ZW50X2Zvb3RlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubWFpbkNvbnRlbnRfZm9vdGVyXCIpO1xuLy92YXIgZHJhZ05hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmRyYWctbmFtZVwiKTtcblxuZnVuY3Rpb24gZ2V0U3R5bGUoZWxlbSwgcHJvcGVydHlOYW1lKSB7XG4gICAgcmV0dXJuIGdldENvbXB1dGVkU3R5bGUoZWxlbSlbcHJvcGVydHlOYW1lXTtcbn1cblxudmFyIGNvbnRhaW5lcl9wdCA9IGdldFN0eWxlKGNvbnRhaW5lciwgJ3BhZGRpbmctdG9wJyk7XG52YXIgY29udGFpbmVyX3BiID0gZ2V0U3R5bGUoY29udGFpbmVyLCAncGFkZGluZy1ib3R0b20nKTtcbnZhciBjb250YWluZXJfcGwgPSBnZXRTdHlsZShjb250YWluZXIsICdwYWRkaW5nLWxlZnQnKTtcbnZhciBjb250YWluZXJfcHIgPSBnZXRTdHlsZShjb250YWluZXIsICdwYWRkaW5nLXJpZ2h0Jyk7XG52YXIgbXBfcHQgPSBnZXRTdHlsZShNQUlOX1BBTkVMLCAncGFkZGluZy10b3AnKTtcbnZhciBtcF9wYiA9IGdldFN0eWxlKE1BSU5fUEFORUwsICdwYWRkaW5nLWJvdHRvbScpO1xudmFyIG1lbnVfbGlzdF9tYiA9IGdldFN0eWxlKG1wX21lbnVfbGlzdCwgJ21hcmdpbi1ib3R0b20nKTtcbnZhciBtZW51X2xpc3RfcHQgPSBnZXRTdHlsZShtcF9tZW51X2xpc3QsICdwYWRkaW5nLXRvcCcpO1xudmFyIG1wX2xlZnQ7XG52YXIgbXBfaDtcbnZhciBtcF93O1xudmFyIG1wX2hlYWRlcl9oO1xudmFyIG1wX2Zvb3Rlcl9oO1xudmFyIGNvbnRlbnRfaDtcbnZhciBjb250ZW50X3c7XG52YXIgYmxvY2tfaGVhZF9oO1xudmFyIG1haW5Db250ZW50X2Zvb3Rlcl9oO1xuY29udGVudF9oID0gd2lub3dIZWlnaHQgLSBwYXJzZUludChjb250YWluZXJfcHQpIC0gcGFyc2VJbnQoY29udGFpbmVyX3BiKTtcbmNvbnRhaW5lci5zdHlsZS5oZWlnaHQgPSB3aW5vd0hlaWdodCAtIChwYXJzZUludChjb250YWluZXJfcHQpICsgcGFyc2VJbnQoY29udGFpbmVyX3BiKSkgKyBcInB4XCI7XG5cbmlmIChpc1NhZmFyaSkge1xuICAgIGNvbnRhaW5lci5zdHlsZS5oZWlnaHQgPSB3aW5vd0hlaWdodDtcbn1cbk1BSU5fUEFORUwuc3R5bGUudG9wID0gY29udGFpbmVyX3B0O1xubXBfaCA9IHdpbm93SGVpZ2h0IC0gcGFyc2VJbnQoY29udGFpbmVyX3B0KSAtIHBhcnNlSW50KGNvbnRhaW5lcl9wYikgLSBwYXJzZUludChtcF9wdCkgLSBwYXJzZUludChtcF9wYik7XG5NQUlOX1BBTkVMLnN0eWxlLmhlaWdodCA9IG1wX2ggKyBcInB4XCI7XG5tcF93ID0gTUFJTl9QQU5FTC5jbGllbnRXaWR0aDtcbmNvbnRlbnRfdyA9IHdpbm93V2lkdGggLSBtcF93IC0gcGFyc2VJbnQoY29udGFpbmVyX3BsKSAtIHBhcnNlSW50KGNvbnRhaW5lcl9wcik7XG5cbmlmIChwYXJzZUludChjb250ZW50X3cpID4gODYwKSB7XG4gICAgY29udGVudF93ID0gODYwO1xufVxuXG5tcF9sZWZ0ID0gd2lub3dXaWR0aCAvIDIgLSAocGFyc2VJbnQobXBfdykgKyBwYXJzZUludChjb250ZW50X3cpKSAvIDI7XG5cbk1BSU5fUEFORUwuc3R5bGUubGVmdCA9IG1wX2xlZnQgKyAncHgnO1xubXBfaGVhZGVyX2ggPSBtcF9oZWFkZXIuY2xpZW50SGVpZ2h0O1xubXBfZm9vdGVyX2ggPSBtcF9mb290ZXIuY2xpZW50SGVpZ2h0O1xubXBfbWVudV9saXN0LnN0eWxlLmhlaWdodCA9IHBhcnNlSW50KG1wX2gpIC0gcGFyc2VJbnQobXBfaGVhZGVyX2gpIC0gcGFyc2VJbnQobXBfZm9vdGVyX2gpIC0gcGFyc2VJbnQobWVudV9saXN0X21iKSAtIHBhcnNlSW50KG1lbnVfbGlzdF9wdCkgKyBcInB4XCI7XG5jb250ZW50RWwuc3R5bGUuaGVpZ2h0ID0gY29udGVudF9oICsgXCJweFwiO1xuLy9jb250ZW50RWwuc3R5bGUud2lkdGggPSBjb250ZW50X3cgKyBcInB4XCI7XG5jb250ZW50X3cgPSBjb250ZW50X3cgPT09IDAgPyBtcF93IDogY29udGVudF93OyAvL9CyINC80L7QsdC40LvRjNC90L7QuSDQuCDQv9C70LDQvdGI0LXRgtC90L7QuSDQstC10YDRgdC40Lgg0YjQuNGA0LjQvdCwIGNvbnRlbnRfdyDQuCBtcF93INGB0L7QstC/0LDQtNCw0Y7Rgiwg0L/QvtGN0YLQvtC80YMg0LIg0LLRi9GH0LjRgdC70LXQvdC40Y/RhSDQstGL0YjQtSBjb250ZW50X3cgPT09IDBcbmNvbnRlbnRFbC5zdHlsZS53aWR0aCA9IGAke2NvbnRlbnRfd31weGA7XG5jb250ZW50RWwuc3R5bGUudG9wID0gXCJcIiArIGNvbnRhaW5lcl9wdDtcbmNvbnRlbnRFbC5zdHlsZS5sZWZ0ID0gbXBfbGVmdCArIG1wX3cgKyBcInB4XCI7XG5ibG9ja19oZWFkX2ggPSBibG9ja19oZWFkcy5jbGllbnRIZWlnaHQ7XG5tYWluQ29udGVudF9mb290ZXJfaCA9IG1haW5Db250ZW50X2Zvb3Rlci5jbGllbnRIZWlnaHQ7XG5tYWluQ29udGVudF9mb290ZXIuc3R5bGUucmlnaHQgPSBwYXJzZUludChjb250YWluZXJfcHIpICsgXCJweFwiO1xubWFpbkNvbnRlbnRfZm9vdGVyLnN0eWxlLmJvdHRvbSA9IHBhcnNlSW50KGNvbnRhaW5lcl9wYikgKyBcInB4XCI7XG5cbm1haW5Db250ZW50X2Zvb3Rlci5zdHlsZS53aWR0aCA9IGNvbnRlbnRfdyArIFwicHhcIjtcbmNvbnNvbGUubG9nKCdjb250ZW50X3cgPSAnICsgY29udGVudF93KTtcblxuaWYgKHdpbmRvdy5pbm5lcldpZHRoID49IDEwMjQpIHtcbiAgICB2YXIgY29udGFpbmVyQm94ID0gY29udGFpbmVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIHZhciBjb250ZW50Qm94ID0gY29udGVudEVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIG1haW5Db250ZW50X2Zvb3Rlci5zdHlsZS5yaWdodCA9IGNvbnRhaW5lckJveC5yaWdodCAtIGNvbnRlbnRCb3gucmlnaHQgKyBcInB4XCI7XG4gICAgbWFpbkNvbnRlbnRfZm9vdGVyLnN0eWxlLmJvdHRvbSA9IGNvbnRhaW5lckJveC5ib3R0b20gLSBjb250ZW50Qm94LmJvdHRvbSArIFwicHhcIjtcbiAgICBpZiAoaXNTYWZhcmkpIHtcbiAgICAgICAgbWFpbkNvbnRlbnRfZm9vdGVyLnN0eWxlLmJvdHRvbSA9IHBhcnNlSW50KGNvbnRhaW5lcl9wYikgKyBcInB4XCI7XG4gICAgfVxufVxuXG5pZiAod2luZG93LmlubmVyV2lkdGggPD0gMTAyMykge1xuICAgIGNvbnRlbnRFbC5zdHlsZS5oZWlnaHQgPSBjb250ZW50X2ggLSA1NiArIFwicHhcIjtcblxuICAgIGlmICghTUFJTl9QQU5FTC5jbGFzc0xpc3QuY29udGFpbnMoXCJmb2xkZWRcIikpIHtcbiAgICAgICAgTUFJTl9QQU5FTC5zdHlsZS5oZWlnaHQgPSBcImF1dG9cIjtcbiAgICB9IGVsc2Uge1xuICAgICAgICBNQUlOX1BBTkVMLnN0eWxlLmhlaWdodCA9IHdpbm93SGVpZ2h0IC0gcGFyc2VJbnQoY29udGFpbmVyX3B0KSAtIHBhcnNlSW50KGNvbnRhaW5lcl9wYikgLSBwYXJzZUludChtcF9wdCkgLSBwYXJzZUludChtcF9wYikgKyBcInB4XCI7XG4gICAgfVxuXG4gICAgY29udGVudEVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgaWYgKCFNQUlOX1BBTkVMLmNsYXNzTGlzdC5jb250YWlucyhcImZvbGRlZFwiKSkge1xuICAgICAgICAgICAgTUFJTl9QQU5FTC5zdHlsZS5oZWlnaHQgPSBcImF1dG9cIjtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIGNvbnRlbnRFbC5zdHlsZS5sZWZ0ID0gcGFyc2VJbnQoY29udGFpbmVyX3BsKSArIFwicHhcIjtcbiAgICBjb250ZW50RWwuc3R5bGUud2lkdGggPSB3aW5vd1dpZHRoIC0gcGFyc2VJbnQoY29udGFpbmVyX3BsKSAtIHBhcnNlSW50KGNvbnRhaW5lcl9wcikgKyBcInB4XCI7XG5cbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubW9iLW1lbnUnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIG1wX2hlYWRlcl9oID0gbXBfaGVhZGVyLmNsaWVudEhlaWdodDtcbiAgICAgICAgbXBfZm9vdGVyX2ggPSBtcF9mb290ZXIuY2xpZW50SGVpZ2h0O1xuICAgICAgICBtcF9mb290ZXJfaCA9IDQ2O1xuICAgICAgICBtcF9wdCA9IDM1O1xuICAgICAgICBtcF9wYiA9IDMzO1xuICAgICAgICBtcF9oID0gd2lub3dIZWlnaHQgLSBwYXJzZUludChjb250YWluZXJfcHQpIC0gcGFyc2VJbnQoY29udGFpbmVyX3BiKSAtIHBhcnNlSW50KG1wX3B0KSAtIHBhcnNlSW50KG1wX3BiKTtcbiAgICAgICAgTUFJTl9QQU5FTC5zdHlsZS5oZWlnaHQgPSBtcF9oICsgXCJweFwiO1xuICAgICAgICBtcF9tZW51X2xpc3Quc3R5bGUuaGVpZ2h0ID0gbXBfaCAtIHBhcnNlSW50KG1wX2hlYWRlcl9oKSAtIHBhcnNlSW50KG1wX2Zvb3Rlcl9oKSAtIHBhcnNlSW50KG1lbnVfbGlzdF9tYikgLSBwYXJzZUludChtZW51X2xpc3RfcHQpICsgXCJweFwiO1xuICAgICAgIC8qIGNvbnNvbGUubG9nKFwibXBfaCA9XCIgKyBtcF9oKTtcbiAgICAgICAgY29uc29sZS5sb2coXCJtcF9oZWFkZXJfaCA9XCIgKyBtcF9oZWFkZXJfaCk7XG4gICAgICAgIGNvbnNvbGUubG9nKFwibXBfZm9vdGVyX2ggPVwiICsgbXBfZm9vdGVyX2gpO1xuICAgICAgICBjb25zb2xlLmxvZyhcIm1lbnVfbGlzdF9tYiA9XCIgKyBtZW51X2xpc3RfbWIpO1xuICAgICAgICBjb25zb2xlLmxvZyhcIm1lbnVfbGlzdF9wdCA9XCIgKyBtZW51X2xpc3RfcHQpOyovXG4gICAgfSk7XG59IC8vY29uc29sZS5sb2coZHJhZ05hbWUuY2xvc2VzdCgnaW5wdXQtZmllbGRfX3dyYXAnKSk7XG5cblxuLy92YXIgZHJhZ05hbWVQZCA9IGRyYWdOYW1lLnN0eWxlLnBhZGRpbmdMZWZ0O1xuXG5pZiAoaXNTYWZhcmkpIHtcbiAgICAvL2RyYWdOYW1lLnN0eWxlLndpZHRoID0gZHJhZ05hbWUucGFyZW50RWxlbWVudC53aWR0aCAtIGRyYWdOYW1lUGQqMjtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1lbnVfbGlzdC5sZW5ndGg7IGkrKykge1xuICAgICAgICBtZW51X2xpc3RbaV0uc3R5bGUuZGlzcGxheSA9IFwiLXdlYmtpdC1ib3hcIjtcbiAgICB9XG5cbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgY29udGVudF9pbi5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgY29udGVudF9pbltfaV0uc3R5bGUuZGlzcGxheSA9IFwiLXdlYmtpdC1ib3hcIjtcbiAgICB9XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJldHVybl9saXN0X2l0ZW0ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgcmV0dXJuX2xpc3RfaXRlbVtpXS5zdHlsZS5kaXNwbGF5ID0gXCItd2Via2l0LWJveFwiO1xuICAgIH1cbiAgICBpZiAod2luZG93LmlubmVyV2lkdGggPj0gMTAyMykge1xuICAgICAgICBmb3IgKHZhciBfaTIgPSAwOyBfaTIgPCBibG9ja3MubGVuZ3RoOyBfaTIrKykge1xuICAgICAgICAgICAgYmxvY2tzW19pMl0uc3R5bGUuZGlzcGxheSA9IFwiLXdlYmtpdC1pbmxpbmUtZmxleFwiO1xuICAgICAgICB9XG4gICAgICAgIC8vZm9yIGJhY2stZW5kXG4gICAgICAgIGZvciAodmFyIF9pMiA9IDA7IF9pMiA8IGJsb2Nrc193cmFwcGVyLmxlbmd0aDsgX2kyKyspIHtcbiAgICAgICAgICAgIGJsb2Nrc193cmFwcGVyW19pMl0uc3R5bGUuZGlzcGxheSA9IFwiLXdlYmtpdC1pbmxpbmUtZmxleFwiO1xuICAgICAgICB9XG4gICAgICAgIC8vLS0tLVxuXG4gICAgICAgIGJsb2NrX2hlYWRzLnN0eWxlLmRpc3BsYXkgPSBcIi13ZWJraXQtaW5saW5lLWZsZXhcIjtcblxuICAgICAgICBmb3IgKHZhciBfaTMgPSAwOyBfaTMgPCBpbnNpZGVfYmxvY2subGVuZ3RoOyBfaTMrKykge1xuICAgICAgICAgICAgaW5zaWRlX2Jsb2NrW19pM10uc3R5bGUuZGlzcGxheSA9IFwiLXdlYmtpdC1mbGV4XCI7XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKHZhciBfaTQgPSAwOyBfaTQgPCBmaWx0ZXIubGVuZ3RoOyBfaTQrKykge1xuICAgICAgICAgICAgZmlsdGVyW19pNF0uc3R5bGUuaGVpZ2h0ID0gXCI0MHB4XCI7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAod2luZG93LmlubmVyV2lkdGggPiA4MzQgJiYgd2luZG93LmlubmVyV2lkdGggPD0gMTExMikge1xuICAgICAgICBmb3IgKHZhciBfaTUgPSAwOyBfaTUgPCBibG9ja3MubGVuZ3RoOyBfaTUrKykge1xuICAgICAgICAgICAgYmxvY2tzW19pNV0uc3R5bGUuZGlzcGxheSA9IFwiLXdlYmtpdC1pbmxpbmUtZmxleFwiO1xuICAgICAgICB9XG4gICAgICAgIC8vZm9yIGJhY2stZW5kXG4gICAgICAgIGZvciAodmFyIF9pNSA9IDA7IF9pNSA8IGJsb2Nrc193cmFwcGVyLmxlbmd0aDsgX2k1KyspIHtcbiAgICAgICAgICAgIGJsb2Nrc193cmFwcGVyW19pNV0uc3R5bGUuZGlzcGxheSA9IFwiLXdlYmtpdC1pbmxpbmUtZmxleFwiO1xuICAgICAgICB9XG4gICAgICAgIC8vLS0tLVxuY29uc29sZS5sb2coJ21wX3cgPSAnLCBtcF93KTtcbiAgICAgICAgLy9NQUlOX1BBTkVMLnN0eWxlLndpZHRoID0gcGFyc2VJbnQobXBfdykgLSAwICsgXCJweFwiO1xuICAgICAgICBjb250ZW50RWwuc3R5bGUud2lkdGggPSBjb250ZW50X3cgKyAwICsgXCJweFwiO1xuICAgICAgICAvL2NvbnRlbnRFbC5zdHlsZS5sZWZ0ID0gcGFyc2VJbnQobXBfbGVmdCkgKyBwYXJzZUludChtcF93KSAtIDAgKyBcInB4XCI7XG4gICAgfVxuXG4gICAgaWYgKHdpbmRvdy5pbm5lcldpZHRoID49IDEwMjMgJiYgd2luZG93LmlubmVyV2lkdGggPD0gOTEyKSB7XG4gICAgICAgIGJsb2NrX2hlYWRzLnN0eWxlLmRpc3BsYXkgPSBcIi13ZWJraXQtaW5saW5lLWZsZXhcIjtcblxuICAgICAgICBmb3IgKHZhciBfaTcgPSAwOyBfaTcgPCBpbnNpZGVfYmxvY2subGVuZ3RoOyBfaTcrKykge1xuICAgICAgICAgICAgaW5zaWRlX2Jsb2NrW19pN10uc3R5bGUuZGlzcGxheSA9IFwiLXdlYmtpdC1pbmxpbmUtZmxleFwiO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yICh2YXIgX2k4ID0gMDsgX2k4IDwgZmlsdGVyLmxlbmd0aDsgX2k4KyspIHtcbiAgICAgICAgICAgIGZpbHRlcltfaThdLnN0eWxlLmhlaWdodCA9IFwiNDBweFwiO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHdpbmRvdy5pbm5lcldpZHRoIDw9IDEwMjMpIHtcbiAgICAgICAgYmxvY2tfaGVhZHMuc3R5bGUuZGlzcGxheSA9IFwiLXdlYmtpdC1ib3hcIjtcbiAgICB9XG5cbiAgICBpZiAod2luZG93LmlubmVyV2lkdGggPj0gMTAyMyAmJiB3aW5kb3cuaW5uZXJXaWR0aCA8PSAxMzAwKSB7XG4gICAgICAgIHZhciBjb2xzID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcImNvbFwiKTtcbiAgICAgICAgZm9yICh2YXIgbiA9IDA7IG4gPCBjb2xzLmxlbmd0aDsgbisrKSB7XG4gICAgICAgICAgICB2YXIgaXRlbSA9IGNvbHNbbl07XG4gICAgICAgICAgICBzZXRXZWJraXRGbGV4KGl0ZW0pO1xuICAgICAgICB9XG4gICAgICAgIC8qQXJyYXkuZnJvbSgpLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgICAgIGl0ZW0uc3R5bGUuZGlzcGxheSA9IFwiLXdlYmtpdC1mbGV4XCI7XG4gICAgICAgIH0pOyovXG4gICAgfVxuXG4gICAgaWYgKHdpbmRvdy5pbm5lcldpZHRoIDw9IDgzNCkge1xuICAgICAgICBmb3IgKHZhciBfaTkgPSAwOyBfaTkgPCBmaWx0ZXIubGVuZ3RoOyBfaTkrKykge1xuICAgICAgICAgICAgZmlsdGVyW19pOV0uc3R5bGUuZGlzcGxheSA9IFwiLXdlYmtpdC1mbGV4XCI7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmZ1bmN0aW9uIHNldFdlYmtpdEZsZXgoaXRlbSkge1xuICAgIGl0ZW0uc3R5bGUuZGlzcGxheSA9IFwiLXdlYmtpdC1mbGV4XCI7XG59XG4iLCJcInVzZSBzdHJpY3RcIjtcblxuLy8gPT09PT09PT09PT09INCS0YvQstC10YHRgtC4INC00LjQsNC70L7Qs9C+0LLQvtC1INC+0LrQvdC+INC+INGB0L7Qt9C00LDQvdC40Lgg0L/RgNC+0YLQvtC60L7Qu9CwXG52YXIgY3JlYXRlUHJvdG9jb2xCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjY3JlYXRlUHJvdG9jb2xCdG4nKTtcbnZhciBjcmVhdGVQcm90b2NvbFRlbXBhdGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjY3JlYXRlUHJvdG9jb2xEaWFsb2cnKS5pbm5lckhUTUw7XG5cbnZhciBzYXZlUHJvdG9jb2xCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjc2F2ZVByb3RvY29sQnRuJyk7XG52YXIgc2F2ZVByb3RvY29sRGlhbG9nID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3NhdmVQcm90b2NvbERpYWxvZycpLmlubmVySFRNTDtcblxudmFyIGFkZFJlY29tZW5kQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2FkZFJlY29tZW5kJyk7XG52YXIgYWRkUmVjb21lbmRUZW1wYXRlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2FkZFJlY29tZW5kRGlhbG9nJykuaW5uZXJIVE1MO1xudmFyIHRlbXBsYXRlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI21vZGFsLXRlbXBsYXRlJykuaW5uZXJIVE1MO1xuXG52YXIgZGlhbG9nU2ltcGxlVGVtcGxhdGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjZGlhbG9nU2ltcGxlVGVtcGxhdGUnKS5pbm5lckhUTUw7XG5cbi8vINC00LjQsNC70L7Qs9C+0LLQvtC1INC+0LrQvdC+INC90LAg0LrQvdC+0L/QutGDINCh0L7RhdGA0LDQvdC40YLRjCDQv9GA0L7RgtC+0LrQvtC7XG5zYXZlUHJvdG9jb2xCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoZSkge1xuICAgIHJldHVybiBzaG93Q3JlYXRlRGlhbG9nKHNhdmVQcm90b2NvbERpYWxvZywgc2F2ZVByb3RvY29sRGlhbG9nU2hvdyk7XG59KTtcblxuLy8g0LTQuNCw0LvQvtCz0L7QstC+0LUg0L7QutC90L4g0L3QsCDQutC90L7Qv9C60YMg0KHQvtC30LTQsNGC0Ywg0L/RgNC+0YLQvtC60L7Qu1xuY3JlYXRlUHJvdG9jb2xCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoZSkge1xuICAgIGNvbnN0IGRpYWxvZyA9IHNob3dDcmVhdGVEaWFsb2coY3JlYXRlUHJvdG9jb2xUZW1wYXRlLCBzYXZlUHJvdG9jb2xEaWFsb2dTaG93KTtcblxuICAgIC8vINC40L3QuNGG0LjQsNC70LjQt9Cw0YbQuNGPINGB0L7QsdGL0YLQuNC5INC/0LXRgNC10LrQu9GO0YfQsNGC0LXQu9GPXG4gICAgY29uc3QgcmFkaW8gPSBkaWFsb2cuY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3JBbGwoJ2lucHV0W25hbWU9cmFkaW9dJyk7XG4gICAgcmFkaW8uZm9yRWFjaChyID0+IHtcbiAgICAgICAgci5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGUgPT4ge1xuICAgICAgICAgICAgY29uc3QgbGF5ZXIgPSByLmNsb3Nlc3QoJy5kaWFsLWxheWVyJyk7XG4gICAgICAgICAgICBjb25zdCBhY3RpdmUgPSBkaWFsb2cuY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJy5kaWFsLWxheWVyLmFjdGl2ZScpO1xuICAgICAgICAgICAgYWN0aXZlLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xuICAgICAgICAgICAgbGF5ZXIuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBidG4gPSByLmNsb3Nlc3QoJ2xhYmVsJykubmV4dEVsZW1lbnRTaWJsaW5nO1xuICAgICAgICBidG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhyLmNoZWNrZWQpO1xuICAgICAgICAgICAgci5jaGVja2VkID0gIXIuY2hlY2tlZDtcbiAgICAgICAgICAgIHIuY2xpY2soKTtcbiAgICAgICAgfSlcbiAgICB9KTtcblxuICAgIC8vINCy0YvQv9Cw0LTQsNGO0YnQuNC5INGB0L/QuNGB0L7QulxuICAgIGNvbnN0IGRyb3BMaXN0SW5wdXRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmRyb3AtbGlzdF9faW5wdXQnKTtcbiAgICBkcm9wTGlzdElucHV0cy5mb3JFYWNoKGlucHV0ID0+IHtcbiAgICAgICAgY29uc3QgZHJvcExpc3QgPSBpbnB1dC5jbG9zZXN0KCcuZHJvcC1saXN0Jyk7XG4gICAgICAgIGlucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2ZvY3VzJywgZSA9PiB7XG4gICAgICAgICAgICBkcm9wTGlzdC5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignYmx1cicsIGUgPT4ge1xuICAgICAgICAgICAgY29uc3QgdGltZXIgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAvL2Ryb3BMaXN0LmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xuICAgICAgICAgICAgfSwgMjAwKTtcblxuICAgICAgICB9KTtcblxuICAgICAgICBjb25zdCByZXN1bHRzID0gZHJvcExpc3QucXVlcnlTZWxlY3RvcignLmRyb3AtbGlzdF9fcmVzJyk7XG4gICAgICAgIHJlc3VsdHMuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBldmVudCA9PntcbiAgICAgICAgICAgIGlmIChldmVudC50YXJnZXQudGFnTmFtZSA9PT0gJ1VMJykgcmV0dXJuO1xuICAgICAgICAgICAgY29uc3Qgc3BhbiA9IGV2ZW50LnRhcmdldC50YWdOYW1lID09PSAnU1BBTicgPyBldmVudC50YXJnZXQgOiBldmVudC50YXJnZXQucXVlcnlTZWxlY3Rvcignc3BhbicpO1xuICAgICAgICAgICAgaW5wdXQudmFsdWUgPSBzcGFuLmlubmVySFRNTDsvLy5zbGljZSgxKTtcbiAgICAgICAgICAgIGRyb3BMaXN0LmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xuICAgICAgICB9KTtcbiAgICB9KTtcblxuICAgIGNvbnN0IHN5bmNCdG4gPSBkaWFsb2cuY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJyNidG4tc3luYycpO1xuICAgIGNvbnN0IGFzc2lnbkJ0biA9IGRpYWxvZy5jb250YWluZXIucXVlcnlTZWxlY3RvcignI2J0bi1hc3NpZ24nKTtcblxuICAgIC8vINC+0LHRgNCw0LHQsNGC0YvQstCw0LXRgiDQutC70LjQuiDQvdCwINC60L3QvtC/0LrRgyAg0J3QsNC30L3QsNGH0LjRgtGMINC/0LDRhtC40LXQvdGC0YNcbiAgICBhc3NpZ25CdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBlID0+IHtcbiAgICAgICAgZGlhbG9nLmNsb3NlKCk7XG4gICAgICAgIGNyZWF0ZVByb3RvY29sRGlhbG9nU2hvdygpO1xuICAgIH0pO1xuLy8g0L7QsdGA0LDQsdCw0YLRi9Cy0LDQtdGCINC60LvQuNC6INC90LAg0LrQvdC+0L/QutGDICDQntGE0L7RgNC80LjRgtGMINC00L7RgdGC0LDQstC60YNcbiAgICBzeW5jQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZSA9PiB7XG4gICAgICAgIGRpYWxvZy5jbG9zZSgpO1xuICAgICAgICBkZWxpdmVyeVN1Y2Nlc3NEaWFsb2dTaG93KCk7XG4gICAgfSk7XG59KTtcblxuLy/QvtCx0YDQsNCx0LDRgtGL0LLQsNC10YIg0LrQu9C40Log0L3QsCDQutC90L7Qv9C60YMg0JTQvtCx0LDQstC40YLRjCDRgNC10LrQvtC80LXQvdC00LDRhtC40LhcbmFkZFJlY29tZW5kQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHtcbiAgICAvL3JldHVybiBzaG93Q3JlYXRlRGlhbG9nKGFkZFJlY29tZW5kVGVtcGF0ZSwgYWRkTmV3UmVjb21lbmQpO1xuICAgIHZhciBkaWFsb2cgPSBzaG93Q3JlYXRlRGlhbG9nKGFkZFJlY29tZW5kVGVtcGF0ZSwgYWRkTmV3UmVjb21lbmQpO1xuICAgIHZhciBjb250YWluZXIgPSBkaWFsb2cuY29udGFpbmVyO1xuICAgIHZhciB0ZXh0YXJlYSA9IGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcudGV4dGFyZWEtZmllbGQnKTtcbiAgICB2YXIgb3ZlcmxheSA9IGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcub3ZlcmxheScpO1xuXG4gICAgdGV4dGFyZWEuYWRkRXZlbnRMaXN0ZW5lcignZm9jdXMnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh3aW5kb3cuaW5uZXJXaWR0aCA8PSAxMDI0KSB7XG4gICAgICAgICAgICB2YXIgcGFkZGluZ1RvcCA9IHdpbmRvdy5pbm5lcldpZHRoIDw9IDc2OCAmJiB3aW5kb3cuaW5uZXJXaWR0aCA+IDQyNSA/ICcxODBweCcgOiAnNTBweCc7XG4gICAgICAgICAgICBvdmVybGF5LnN0eWxlLnBhZGRpbmdUb3AgPSBwYWRkaW5nVG9wO1xuICAgICAgICAgICAgb3ZlcmxheS5zdHlsZS5hbGlnbkl0ZW1zID0gJ2ZsZXgtc3RhcnQnO1xuICAgICAgICB9XG4gICAgfSlcbn0pO1xuXG5mdW5jdGlvbiBzYXZlUHJvdG9jb2xEaWFsb2dTaG93KCkge1xuICAgIGNvbnN0IHRlbXBsYXRlID0gcHJlcGFyZVRlbXBsYXRlKGRpYWxvZ1NpbXBsZVRlbXBsYXRlLCAn0J/RgNC+0YLQvtC60L7QuyDihJYgMTIzNCDRg9GB0L/QtdGI0L3QviDRgdC+0YXRgNCw0L3QtdC9JywgJ2xhcmdlJyk7XG4gICAgc2hvd0NyZWF0ZURpYWxvZyh0ZW1wbGF0ZSk7XG59XG5cbmZ1bmN0aW9uIGRlbGl2ZXJ5U3VjY2Vzc0RpYWxvZ1Nob3coKSB7XG4gICAgY29uc3QgdGVtcGxhdGUgPSBwcmVwYXJlVGVtcGxhdGUoZGlhbG9nU2ltcGxlVGVtcGxhdGUsICfQlNC+0YHRgtCw0LLQutCwINC+0YTQvtGA0LzQu9C10L3QsCcsICcnKTtcbiAgICBzaG93Q3JlYXRlRGlhbG9nKHRlbXBsYXRlKTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlUHJvdG9jb2xEaWFsb2dTaG93KCkge1xuICAgIGNvbnN0IHRlbXBsYXRlID0gcHJlcGFyZVRlbXBsYXRlKGRpYWxvZ1NpbXBsZVRlbXBsYXRlLCAn0J/RgNC+0YLQvtC60L7QuyDRg9GB0L/QtdGI0L3QviDRgdC40L3RhdGA0L7QvdC40LfQuNGA0L7QstCw0L0g0YHQviDRgdGC0YDQsNC90LjRhtC10Lkg0L/QsNGG0LjQtdC90YLQsCcsICdzeW5jaCcpO1xuICAgIHNob3dDcmVhdGVEaWFsb2codGVtcGxhdGUpO1xufVxuXG5mdW5jdGlvbiBhZGROZXdSZWNvbWVuZCgpIHtcbiAgICBjb25zb2xlLmxvZygnQWRkIE5ldyBSZWNvbWVuZCEhIScpO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVEaWFsb2coZGlhbG9nVGVtcGF0ZSkge1xuICAgIHZhciBjb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBjb250YWluZXIuY2xhc3NOYW1lID0gJ3BvcHVwJztcbiAgICBjb250YWluZXIuaW5uZXJIVE1MID0gdGVtcGxhdGU7XG4gICAgdmFyIG92ZXJsYXkgPSBjb250YWluZXIucXVlcnlTZWxlY3RvcignLm92ZXJsYXknKTtcbiAgICBvdmVybGF5LmNsYXNzTGlzdC5hZGQoJ2RpYWxvZy0tZmxleC1kaXNwbGF5Jyk7XG4gICAgdmFyIHBvcHVwQ29udGFpbmVyID0gY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fY29udGFpbmVyJyk7XG4gICAgcG9wdXBDb250YWluZXIuaW5uZXJIVE1MID0gZGlhbG9nVGVtcGF0ZTtcbiAgICB2YXIgYWN0aW9uID0ge307XG4gICAgdmFyIGNsb3NlQnV0dG9uID0gY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJyNjYW5jZWwnKTtcbiAgICBpZiAoY2xvc2VCdXR0b24pIHtcbiAgICAgICAgY2xvc2VCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChjb250YWluZXIpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgdmFyIGNyZWF0ZUJ1dHRvbiA9IGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcjY3JlYXRlJyk7XG4gICAgb3ZlcmxheS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIGlmIChlLnRhcmdldCA9PT0gb3ZlcmxheSkge1xuICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChjb250YWluZXIpO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgICBjb250YWluZXI6IGNvbnRhaW5lcixcbiAgICAgICAgb3BlbjogZnVuY3Rpb24gb3BlbigpIHtcbiAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoY29udGFpbmVyKTtcbiAgICAgICAgfSxcbiAgICAgICAgY2xvc2U6IGZ1bmN0aW9uIGNsb3NlKCkge1xuICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChjb250YWluZXIpO1xuICAgICAgICB9LFxuICAgICAgICBzZXRBY3Rpb246IGZ1bmN0aW9uIHNldEFjdGlvbihhY3Rpb24pIHtcbiAgICAgICAgICAgIGlmICghY3JlYXRlQnV0dG9uKSByZXR1cm47XG4gICAgICAgICAgICBjcmVhdGVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQoY29udGFpbmVyKTtcbiAgICAgICAgICAgICAgICBpZiAoYWN0aW9uKSBhY3Rpb24oKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfTtcbn1cblxuLypcbiog0KTRg9C90LrRhtC40Y8sINC/0L7QtNCz0L7RgtCw0LLQu9C40LLQsNC10YIg0YjQsNCx0LvQvtC9INC00LvRjyDQstGL0LLQvtC00LAg0L7QtNC40L3QsNC60L7QstGL0YUg0LTQuNCw0LvQvtCz0L7QstGL0YUg0L7QutC+0L1cbiogKi9cbmZ1bmN0aW9uIHByZXBhcmVUZW1wbGF0ZSh0ZW1wbGF0ZSwgdGV4dCwgY2xhc3NOYW1lKSB7XG4gICAgbGV0IGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGRpdi5pbm5lckhUTUwgPSB0ZW1wbGF0ZTtcbiAgICBjb25zdCB0ZXh0RGl2ID0gZGl2LnF1ZXJ5U2VsZWN0b3IoJy5kaWFsLXdpbmRvd19fdGV4dCcpO1xuICAgIHRleHREaXYudGV4dENvbnRlbnQgPSB0ZXh0O1xuICAgIGlmIChjbGFzc05hbWUpIHtcbiAgICAgICAgY29uc3Qgd3JhcHBlciA9IGRpdi5xdWVyeVNlbGVjdG9yKCcuZGlhbC13aW5kb3ctLXNpbXBsZScpO1xuICAgICAgICB3cmFwcGVyLmNsYXNzTGlzdC5hZGQoY2xhc3NOYW1lKTtcbiAgICB9XG5cbiAgICByZXR1cm4gZGl2LmlubmVySFRNTDtcbn1cblxuZnVuY3Rpb24gc2hvd0NyZWF0ZURpYWxvZyhkaWFsb2dUZW1wYXRlLCBhZGRBY3Rpb24pIHtcbiAgICB2YXIgZGlhbG9nID0gY3JlYXRlRGlhbG9nKGRpYWxvZ1RlbXBhdGUsIGFkZEFjdGlvbik7XG4gICAgZGlhbG9nLm9wZW4oKTtcbiAgICBkaWFsb2cuc2V0QWN0aW9uKGFkZEFjdGlvbik7XG4gICAgcmV0dXJuIGRpYWxvZztcbn1cblxuLy8gPT09PT09PT09PT09INCS0YvQstC10YHRgtC4INC00LjQsNC70L7Qs9C+0LLQvtC1INC+0LrQvdC+INC+INC00L7QsdCw0LLQu9C10L3QuNC4INC90L7QstC+0LPQviDQv9GA0LXQv9Cw0YDQsNGC0LBcbnZhciBtZWFzdXJlVW5pdHM7XG52YXIgZHJ1Z3NSZWxlYXNlRm9ybXM7XG5cbnZhciBhZGROZXdEcnVnQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2FkZE5ld0RydWcnKTtcbnZhciBhZGROZXdEcnVnVGVtcGxhdGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjYWRkTmV3RHJ1Z1RlbXBsYXRlJykuaW5uZXJIVE1MO1xuYWRkTmV3RHJ1Z0J0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uIChlKSB7XG4gICAgdmFyIGRyYWdEaWFsb2cgPSBzaG93Q3JlYXRlRGlhbG9nKGFkZE5ld0RydWdUZW1wbGF0ZSwgYWRkTmV3RHJ1Zyk7IC8vY29uc29sZS5sb2coJ2lzU2FmYXJpID09PSAnLCBpc1NhZmFyaSwgZHJhZ0RpYWxvZyk7XG5cbiAgICB2YXIgY29udGFpbmVyID0gZHJhZ0RpYWxvZy5jb250YWluZXI7XG5cbiAgICBpZiAoaXNTYWZhcmkpIHtcbiAgICAgICAgdmFyIGRyYWdOYW1lSW5wdXRXcmFwcGVyID0gY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJy5pbnB1dC1maWVsZF9fd3JhcCcpO1xuICAgICAgICB2YXIgZHJhZ05hbWVJbnB1dCA9IGRyYWdOYW1lSW5wdXRXcmFwcGVyLnF1ZXJ5U2VsZWN0b3IoJy5kcmFnLW5hbWUnKTtcbiAgICAgICAgdmFyIHBsID0gZ2V0U3R5bGUoZHJhZ05hbWVJbnB1dCwgJ3BhZGRpbmctbGVmdCcpO1xuICAgICAgICB2YXIgcHIgPSBnZXRTdHlsZShkcmFnTmFtZUlucHV0LCAncGFkZGluZy1yaWdodCcpO1xuICAgICAgICB2YXIgd2lkdGggPSBkcmFnTmFtZUlucHV0V3JhcHBlci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aCAtIHBhcnNlSW50KHBsKSAtIHBhcnNlSW50KHByKTtcbiAgICAgICAgZHJhZ05hbWVJbnB1dC5zdHlsZS53aWR0aCA9IFwiXCIuY29uY2F0KHdpZHRoLCBcInB4XCIpO1xuICAgIH1cblxuICAgIG1lYXN1cmVVbml0cyA9IGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yQWxsKCcudW5pdCcpO1xuXG4gICAgZm9yICh2YXIgaTU9MDsgaTU8bWVhc3VyZVVuaXRzLmxlbmd0aDsgaTUrKykge1xuICAgICAgICB2YXIgdW5pdCA9IG1lYXN1cmVVbml0c1tpNV07XG4gICAgICAgIG1lYXN1cmVVbml0c0hhbmRsZXIodW5pdClcbiAgICB9XG4gICAgZHJ1Z3NSZWxlYXNlRm9ybXMgPSBjb250YWluZXIucXVlcnlTZWxlY3RvckFsbCgnLmRpYWwtd2luZG93LS1kcnVnIC5kcnVncycpO1xuXG4gICAgZm9yICh2YXIgaTY9MDsgaTY8ZHJ1Z3NSZWxlYXNlRm9ybXMubGVuZ3RoOyBpNisrKSB7XG4gICAgICAgIHZhciBpdGVtID0gZHJ1Z3NSZWxlYXNlRm9ybXNbaTZdO1xuICAgICAgICBkcnVnc1JlbGVhc2VGb3Jtc0hhbmRsZXIoaXRlbSlcbiAgICB9XG5cbiAgICB2YXIgaW5jcmVtZW50SW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaW5jcmVtZW50LWlucHV0LS1kaWFsb2cnKTtcblxuICAgIGNyZWF0ZUludGVydmFsSW5wdXQoaW5jcmVtZW50SW5wdXQpO1xufSk7XG5cbmZ1bmN0aW9uIGFkZE5ld0RydWcoKSB7XG4gICAgY29uc29sZS5sb2coJ0FkZCBOZXcgRHJ1ZyEhIScpO1xuICAgICAgICBjb25zdCB0ZW1wbGF0ZSA9IHByZXBhcmVUZW1wbGF0ZShkaWFsb2dTaW1wbGVUZW1wbGF0ZSwgJ9Cf0YDQtdC/0LDRgNCw0YIg0YPRgdC/0LXRiNC90L4g0LTQvtCx0LDQstC70LXQvScsICcnKTtcbiAgICAgICAgc2hvd0NyZWF0ZURpYWxvZyh0ZW1wbGF0ZSk7XG59XG5cbmZ1bmN0aW9uIHRvZ2xlQWN0aXZlQ2xhc3MoZWxlbSkge1xuICAgIGlmIChlbGVtLmNsYXNzTGlzdC5jb250YWlucygnYWN0aXZlJykpIHtcbiAgICAgICAgZWxlbS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHZhciBwYXJlbnQgPSBlbGVtLnBhcmVudE5vZGU7XG4gICAgdmFyIGFjdGl2ZUJ0biA9IHBhcmVudC5xdWVyeVNlbGVjdG9yKCcuYWN0aXZlJyk7XG4gICAgaWYgKGFjdGl2ZUJ0bikgYWN0aXZlQnRuLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xuICAgIGVsZW0uY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XG59XG5cbmZ1bmN0aW9uIHRvZ2xlQWN0aXZlQ2xhc3NfZHJ1Z3MoZWxlbSkge1xuICAgIGlmIChlbGVtLmNsYXNzTGlzdC5jb250YWlucygnYWN0aXZlJykpIHtcbiAgICAgICAgZWxlbS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcbiAgICAgICAgcmVtb3ZlQWN0aXZlU3JjKGVsZW0pO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIHBhcmVudCA9IGVsZW0ucGFyZW50Tm9kZTtcbiAgICAgICAgdmFyIGFjdGl2ZUJ0biA9IHBhcmVudC5xdWVyeVNlbGVjdG9yKCcuYWN0aXZlJyk7XG5cbiAgICAgICAgaWYgKGFjdGl2ZUJ0bikge1xuICAgICAgICAgICAgYWN0aXZlQnRuLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xuICAgICAgICAgICAgcmVtb3ZlQWN0aXZlU3JjKGFjdGl2ZUJ0bik7XG4gICAgICAgIH1cblxuICAgICAgICBlbGVtLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xuICAgICAgICBzZXRBY3RpdmVTcmMoZWxlbSk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBzZXRBY3RpdmVTcmMoZWxlbSkge1xuICAgIHZhciBpY29uID0gZWxlbS5xdWVyeVNlbGVjdG9yKCd1c2UnKTtcbiAgICB2YXIgc3JjID0gaWNvbi5nZXRBdHRyaWJ1dGUoJ3hsaW5rOmhyZWYnKTtcblxuICAgIGlmIChzcmMuaW5kZXhPZignX2hvdmVyJykgPiAtMSkge1xuICAgICAgICBzcmMgPSBzcmMucmVwbGFjZSgnX2hvdmVyJywgJ19hY3RpdmUnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBzcmMgKz0gJ19hY3RpdmUnO1xuICAgIH1cblxuICAgIGljb24uc2V0QXR0cmlidXRlKCd4bGluazpocmVmJywgc3JjKTtcbn1cblxuZnVuY3Rpb24gcmVtb3ZlQWN0aXZlU3JjKGVsZW0pIHtcbiAgICBpZiAoIWVsZW0uY2xhc3NMaXN0LmNvbnRhaW5zKCdhY3RpdmUnKSkge1xuICAgICAgICB2YXIgaWNvbiA9IGVsZW0ucXVlcnlTZWxlY3RvcigndXNlJyk7XG4gICAgICAgIHZhciBzcmMgPSBpY29uLmdldEF0dHJpYnV0ZSgneGxpbms6aHJlZicpO1xuICAgICAgICBzcmMgPSBzcmMucmVwbGFjZSgnX2FjdGl2ZScsICdfaG92ZXInKTtcbiAgICAgICAgaWNvbi5zZXRBdHRyaWJ1dGUoJ3hsaW5rOmhyZWYnLCBzcmMpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gdG9nZ2xlSG92ZXJDbGFzcyhlbGVtLCB0eXBlKSB7XG4gICAgaWYgKCFlbGVtLmNsYXNzTGlzdC5jb250YWlucygnYWN0aXZlJykpIHtcbiAgICAgICAgdmFyIGljb24gPSBlbGVtLnF1ZXJ5U2VsZWN0b3IoJ3VzZScpO1xuICAgICAgICB2YXIgc3JjID0gaWNvbi5nZXRBdHRyaWJ1dGUoJ3hsaW5rOmhyZWYnKTtcblxuICAgICAgICBpZiAodHlwZSA9PT0gJ292ZXInKSB7XG4gICAgICAgICAgICBzcmMgPSBzcmMucmVwbGFjZSgnX2hvdmVyJywgJycpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc3JjICs9ICdfaG92ZXInO1xuICAgICAgICB9IC8vY29uc29sZS5sb2codHlwZSwgJz09PT0nLCBzcmMpO1xuXG5cbiAgICAgICAgaWNvbi5zZXRBdHRyaWJ1dGUoJ3hsaW5rOmhyZWYnLCBzcmMpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gbWVhc3VyZVVuaXRzSGFuZGxlcih1bml0KSB7XG4gICAgdW5pdC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdG9nbGVBY3RpdmVDbGFzcyh1bml0KTtcbiAgICB9KTtcbn1cblxuZnVuY3Rpb24gZHJ1Z3NSZWxlYXNlRm9ybXNIYW5kbGVyKGl0ZW0pIHtcbiAgICBpdGVtLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG4gICAgICAgIHRvZ2xlQWN0aXZlQ2xhc3NfZHJ1Z3MoaXRlbSk7XG4gICAgfSk7XG4gICAgaXRlbS5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWVudGVyJywgZnVuY3Rpb24oKSB7XG4gICAgICAgIHRvZ2dsZUhvdmVyQ2xhc3MoaXRlbSwgJ292ZXInKTtcbiAgICB9KTtcbiAgICBpdGVtLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbGVhdmUnLCAgZnVuY3Rpb24oKSB7XG4gICAgICAgIHRvZ2dsZUhvdmVyQ2xhc3MoaXRlbSwgJ291dCcpXG4gICAgfSk7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUludGVydmFsSW5wdXQoaXRlbSkge1xuXG4gICAgdmFyIGlucHV0ID0gaXRlbS5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdidXR0b24tcmVnX19maWVsZCcpWzBdO1xuICAgIHZhciBtaW51c0J0biA9IGl0ZW0uZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnYnV0dG9uLXJlZ19fbWludXMnKVswXTtcbiAgICB2YXIgcGx1c0J0biA9IGl0ZW0uZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnYnV0dG9uLXJlZ19fcGx1cycpWzBdO1xuICAgIHZhciB2YWx1ZSA9IHBhcnNlSW50KGlucHV0LnZhbHVlKSB8fCAwO1xuICAgIHZhciBpbmNyZW1lbnQgPSBwYXJzZUludChpbnB1dC5nZXRBdHRyaWJ1dGUoJ2luY3JlbWVudCcpKSB8fCAxOyAvLyDQuNC90LrRgNC10LzQtdC90YI7INCx0LXRgNC10YLRgdGPINC40Lcg0LDRgtGA0LjQsdGD0YLQvtCyINGN0LvQtdC80LXQvdGC0LBcblxuICAgIG1pbnVzQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgdmFsdWUgPSB2YWx1ZSAtIGluY3JlbWVudCA8IDAgPyAwIDogdmFsdWUgLSBpbmNyZW1lbnQ7XG4gICAgICAgIGlucHV0LnZhbHVlID0gdmFsdWU7XG4gICAgfSk7XG4gICAgcGx1c0J0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIHZhbHVlICs9IGluY3JlbWVudDtcbiAgICAgICAgaW5wdXQudmFsdWUgPSB2YWx1ZTtcbiAgICB9KTtcbiAgICBpbnB1dC5hZGRFdmVudExpc3RlbmVyKCdibHVyJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgaWYgKCFpc05hTihwYXJzZUludChpbnB1dC52YWx1ZSkpKSB7XG4gICAgICAgICAgICB2YWx1ZSA9IHBhcnNlSW50KGlucHV0LnZhbHVlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlucHV0LnZhbHVlID0gdmFsdWU7XG4gICAgfSk7XG59XG4iLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIGNhbGVuZGFyID0gbmV3IENhbGVuZGFyQ2xvY2soJy5kYXRldGltZScpO1xudmFyIGludGVydmFsID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBjYWxlbmRhci51cGRhdGUoKTtcbn0sIDEwMDApO1xudmFyIGJ1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuYnRuLS1zZXRBY3RpdmUnKTsgLy8g0YPRgdGC0LDQvdCw0LLQu9C40LLQsNC10YIg0L7QsdGA0LDQsdC+0YLRh9C40LrQuCDQutC70LjQutCwINC00LvRjyDQutC90L7Qv9C+0LpcblxuLy8g0YPRgdGC0LDQvdCw0LLQu9C40LLQsNC10YIg0L7QsdGA0LDQsdC+0YLRh9C40LrQvtCyINGB0L7QsdGL0YLQuNGPINC60LvQuNC60LAg0L/QviDQvNC10L3RjlxuZm9yICh2YXIgaTEgPSAwOyBpMSA8IGJ1dHRvbnMubGVuZ3RoOyBpMSsrKSB7XG4gICAgdmFyIGl0ZW0gPSBidXR0b25zW2kxXTtcbiAgICBzZXRBY3RpdmUoaXRlbSk7XG59XG5cbmZ1bmN0aW9uIHNldEFjdGl2ZShpdGVtKSB7XG4gICAgaXRlbS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKGl0ZW0uY2xhc3NMaXN0LmNvbnRhaW5zKCdhY3RpdmUnKSkge1xuICAgICAgICAgICAgaXRlbS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBwYXJlbnQgPSBpdGVtLnBhcmVudE5vZGU7XG4gICAgICAgIHZhciBhY3RpdmVCdG4gPSBwYXJlbnQucXVlcnlTZWxlY3RvcignYnV0dG9uLmFjdGl2ZScpO1xuICAgICAgICBpZiAoYWN0aXZlQnRuKSBhY3RpdmVCdG4uY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XG4gICAgICAgIGl0ZW0uY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XG4gICAgfSk7XG59XG5cbnZhciBwcm90b2NvbHNVbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tZW51LWxpc3QnKTtcbnZhciBwcm90b2NvbHNJdGVtcyA9IHByb3RvY29sc1VsLnF1ZXJ5U2VsZWN0b3JBbGwoJy5tZW51LWxpc3RfX2l0ZW0nKTtcbmZvciAodmFyIGkyID0gMDsgaTIgPCBwcm90b2NvbHNJdGVtcy5sZW5ndGg7IGkyKyspIHtcbiAgICB2YXIgaXRlbSA9IHByb3RvY29sc0l0ZW1zW2kyXTtcbiAgICBzZXRBY3RpdmVQcm90b2NvbEhhbmRsZXIoaXRlbSk7XG59XG5cbmZ1bmN0aW9uIHNldEFjdGl2ZVByb3RvY29sSGFuZGxlcihpdGVtKSB7XG4gICAgaXRlbS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgdmFyIGFjdGl2ZUl0ZW0gPSBwcm90b2NvbHNVbC5xdWVyeVNlbGVjdG9yKCcubWVudS1saXN0X19pdGVtLmFjdGl2ZScpO1xuICAgICAgICBpZiAoYWN0aXZlSXRlbSkgYWN0aXZlSXRlbS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcbiAgICAgICAgaXRlbS5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcbiAgICB9KTtcbn0gLy8g0L/QvtC40YHQuijRhNC40LvRjNGC0YDQsNGG0LjRjykg0L/RgNC+0YLQvtC60L7Qu9C+0LJcblxudmFyIHNlYXJjaFByb3RvY29sc0ZsZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzZWFyY2hQcm90b2NvbHMnKTtcbnZhciBlbXB0eVJlc3VsdHNEaXYgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaXNFbXB0eVJlc3VsdHMnKTtcbnZhciBwcm90b2NvbHNVbF9oZWlnaHQ7XG52YXIgaXNMb2FkID0gdHJ1ZTtcbnNlYXJjaFByb3RvY29sc0ZsZC5hZGRFdmVudExpc3RlbmVyKCdmb2N1cycsIGZ1bmN0aW9uIChlKSB7XG4gICAgaWYgKHdpbmRvdy5pbm5lcldpZHRoIDw9IDEwMjQpIHtcbiAgICAgICAgaWYgKGlzTG9hZCkge1xuICAgICAgICAgICAgcHJvdG9jb2xzVWxfaGVpZ2h0ID0gcHJvdG9jb2xzVWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuaGVpZ2h0O1xuICAgICAgICAgICAgaXNMb2FkID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGhlaWdodCA9IHByb3RvY29sc1VsX2hlaWdodCAtIDIzMDtcbiAgICAgICAgcHJvdG9jb2xzVWwuc3R5bGUuaGVpZ2h0ID0gYCR7aGVpZ2h0fXB4YDtcbiAgICB9XG59KTtcblxuc2VhcmNoUHJvdG9jb2xzRmxkLmFkZEV2ZW50TGlzdGVuZXIoJ2JsdXInLCBmdW5jdGlvbiAoZSkge1xuICAgIGlmICh3aW5kb3cuaW5uZXJXaWR0aCA8PSAxMDI0KSB7XG4gICAgICAgIHByb3RvY29sc1VsLnN0eWxlLmhlaWdodCA9IGAke3Byb3RvY29sc1VsX2hlaWdodH1weGA7XG4gICAgfVxufSk7XG5zZWFyY2hQcm90b2NvbHNGbGQuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCBmdW5jdGlvbiAoZSkge1xuICAgIGNvbnNvbGUubG9nKCdpbnB1dCcpO1xuICAgIHZhciBrZXkgPSBlLnRhcmdldC52YWx1ZS50b0xvd2VyQ2FzZSgpO1xuICAgIHRocm90dGxlKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGl0ZW1zID0gW107XG4gICAgICAgIHZhciBpc0VtcHR5ID0gdHJ1ZTtcblxuICAgICAgICB2YXIgbGlzID0gcHJvdG9jb2xzVWwucXVlcnlTZWxlY3RvckFsbCgnLm1lbnUtbGlzdF9faXRlbScpO1xuICAgICAgICB2YXIgY291bnQgPSBsaXMubGVuZ3RoO1xuICAgICAgICBmb3IgKHZhciBpMyA9IDA7IGkzIDwgbGlzLmxlbmd0aDsgaTMrKykge1xuICAgICAgICAgICAgdmFyIGl0ZW0gPSBsaXNbaTNdO1xuICAgICAgICAgICAgY291bnQgKz0gZmluZFByb3RvY29sSGFuZGxlcihpdGVtLCBrZXkpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGNvdW50ID09PSAwKSB7XG4gICAgICAgICAgICBlbXB0eVJlc3VsdHNEaXYuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBlbXB0eVJlc3VsdHNEaXYuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgIH1cbiAgICB9LCAzMDAwKSgpO1xufSk7IC8v0J7QsdGA0LDQsdC+0YLQutCwINC60LvQuNC60LAg0L/QviDQutC90L7Qv9C60Lgg0YHQvtGF0YDQsNC90LXQvdC90YvQtSDQv9GA0L7RgtC+0LrQvtC70LBcblxuZnVuY3Rpb24gZmluZFByb3RvY29sSGFuZGxlcihpdGVtLCBrZXkpIHtcbiAgICB2YXIgY3VycmVudEl0ZW1WYWx1ZSA9IGl0ZW0ucXVlcnlTZWxlY3RvcignYScpLmlubmVySFRNTC50b0xvd2VyQ2FzZSgpO1xuXG4gICAgaWYgKGN1cnJlbnRJdGVtVmFsdWUuaW5kZXhPZihrZXkpID09PSAtMSkge1xuICAgICAgICBpdGVtLmNsYXNzTGlzdC5hZGQoJ2hpZGUnKTtcbiAgICAgICAgcmV0dXJuIC0xO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGl0ZW0uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZScpO1xuICAgICAgICByZXR1cm4gMTtcbiAgICB9XG59XG5cbnZhciBwcm90b2NvbEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5idG4tcHJvdG9jb2wnKTtcbnZhciByZXR1cm5MaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnJldHVybi1saXN0Jyk7XG52YXIgbWVudUxpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubWVudS1saXN0Jyk7XG52YXIgbWVudUxpc3Qxc3RDaGlsZCA9IG1lbnVMaXN0LmZpcnN0RWxlbWVudENoaWxkO1xudmFyIG1lbnVMaXN0TGlfbWFyZ2luQm90dG9tID0gMTU7XG5wcm90b2NvbEJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uIChlKSB7XG4gICAgTUFJTl9QQU5FTC5jbGFzc0xpc3QuYWRkKCdyZXR1cm4tdW5mb2xkJyk7XG4gICAgdmFyIG1lbnVMaXN0Qm94ID0gbWVudUxpc3QuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgdmFyIG1lbnVMaXN0MXN0Q2hpbGRCb3ggPSBtZW51TGlzdDFzdENoaWxkLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIHZhciBoZWlnaHQgPSBtZW51TGlzdEJveC5oZWlnaHQgLSBtZW51TGlzdDFzdENoaWxkQm94LmhlaWdodCAtIG1lbnVMaXN0TGlfbWFyZ2luQm90dG9tO1xuICAgIC8qY29uc29sZS5sb2cobWVudUxpc3RCb3guaGVpZ2h0LCBtZW51TGlzdDFzdENoaWxkQm94LmhlaWdodCk7XG4gICAgY29uc29sZS5sb2coaGVpZ2h0KTsqL1xuXG4gICAgcmV0dXJuTGlzdC5zdHlsZS5oZWlnaHQgPSBoZWlnaHQgKyBcInB4XCI7XG4gICAgcmV0dXJuTGlzdC5zdHlsZS5taW5IZWlnaHQgPSBoZWlnaHQgKyBcInB4XCI7XG59KTtcbnZhciByZXR1cm5CdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYnRuLXJldHVybicpO1xucmV0dXJuQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHtcbiAgICBNQUlOX1BBTkVMLmNsYXNzTGlzdC5yZW1vdmUoJ3JldHVybi11bmZvbGQnKTtcbn0pOyAvLyDQv9C10YDQtdC90L7RgSDQutC90L7Qv9C60Lgg0JTQvtCx0LDQstC40YLRjCDRgNC10LrQvtC80LXQvdC00LDRhtC40LhcblxuaWYgKHdpbmRvdy5pbm5lcldpZHRoIDw9IDEwMjMpIHtcbiAgICB2YXIgZm9vdGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmJsb2NrLS1mb290ZXInKTtcbiAgICB2YXIgYnRuUmVjb21lbmRXcmFwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmJ0bi1yZWNvbWVuZC13cmFwJyk7XG4gICAgdmFyIGFkZFJlY29tZW5kc0J0biA9IGZvb3Rlci5yZW1vdmVDaGlsZChmb290ZXIucXVlcnlTZWxlY3RvcignLmJ0bi1yZWNvbWVuZCcpKTtcbiAgICBidG5SZWNvbWVuZFdyYXAuYXBwZW5kQ2hpbGQoYWRkUmVjb21lbmRzQnRuKTtcbn0gLy/QntCx0YDQsNCx0L7RgtC60LAg0LrQu9C40LrQsCDQv9C+INGB0L7RhdGA0LDQvdC10L3QvdC+0LzRgyDQv9GA0L7RgtC+0LrQvtC70YNcblxuaWYgKCh3aW5kb3cuaW5uZXJXaWR0aCA8IDEzNDgpICYmICh3aW5kb3cuaW5uZXJXaWR0aCA+PSAxMDI0KSkge1xuICAgIHZhciBibG9ja3MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuYmxvY2snKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGJsb2Nrcy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgY3VycmVudCA9IGJsb2Nrc1tpXTtcbiAgICAgICAgaWYgKCFjdXJyZW50LmNsYXNzTGlzdC5jb250YWlucygnYmxvY2staGVhZCcpICYmICFjdXJyZW50LmNsYXNzTGlzdC5jb250YWlucygnYmxvY2stLWZvb3RlcicpKSB7XG4gICAgICAgICAgICB2YXIgbGVmdENvbCA9IGN1cnJlbnQucXVlcnlTZWxlY3RvcignLmNvbCAuYmxvY2tfX2xheWVyLS1sZWZ0Jyk7XG4gICAgICAgICAgICB2YXIgcmlnaHRDb2wgPSBjdXJyZW50LnF1ZXJ5U2VsZWN0b3IoJy5jb2wgLmJsb2NrX19sYXllci0tcmlnaHQnKTtcbiAgICAgICAgICAgIHZhciBkaXNwbGFjZWRMZWZ0ID0gY3VycmVudC5xdWVyeVNlbGVjdG9yKCcuYmxvY2tfX2xheWVyLS1jZW50ZXIgLmluc2lkZS1ibG9jazpmaXJzdC1jaGlsZCcpO1xuICAgICAgICAgICAgdmFyIGRpc3BsYWNlZFJpZ2h0ID0gY3VycmVudC5xdWVyeVNlbGVjdG9yKCcuYmxvY2tfX2xheWVyLS1jZW50ZXIgLmluc2lkZS1ibG9jazpsYXN0LWNoaWxkJyk7XG5cbiAgICAgICAgICAgIC8qbGVmdENvbC5wcmVwZW5kKGRpc3BsYWNlZExlZnQpO1xuICAgICAgICAgICAgcmlnaHRDb2wucHJlcGVuZChkaXNwbGFjZWRSaWdodCk7Ki9cbiAgICAgICAgICAgIGxlZnRDb2wuaW5zZXJ0QmVmb3JlKGRpc3BsYWNlZExlZnQsIGxlZnRDb2wuZmlyc3RFbGVtZW50Q2hpbGQpO1xuICAgICAgICAgICAgcmlnaHRDb2wuaW5zZXJ0QmVmb3JlKGRpc3BsYWNlZFJpZ2h0LCByaWdodENvbC5maXJzdEVsZW1lbnRDaGlsZCk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbnZhciByZXR1cm5JdGVtc0xpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcucmV0dXJuLWxpc3RfX2l0ZW0nKTtcblxuZm9yICh2YXIgaTQgPSAwOyBpNCA8IHJldHVybkl0ZW1zTGlzdC5sZW5ndGg7IGk0KyspIHtcbiAgICB2YXIgaXRlbSA9IHJldHVybkl0ZW1zTGlzdFtpNF07XG4gICAgdG9nZ2xlQWN0aXZlQ2xhc3NIYW5kbGVyKGl0ZW0pO1xufVxuXG5mdW5jdGlvbiB0b2dnbGVBY3RpdmVDbGFzc0hhbmRsZXIoaXRlbSkge1xuICAgIGl0ZW0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICByZXR1cm4gdG9nbGVBY3RpdmVDbGFzcyhpdGVtKTtcbiAgICB9KTtcbn0iLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIG1lbnVfYnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1vYi1tZW51Jyk7XG52YXIgbWFpbl9wYW5lbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tYWluLXBhbmVsJyk7XG52YXIgY29udGVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jb250ZW50Jyk7XG5tZW51X2J0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uIChlKSB7XG4gICAgcmV0dXJuIG1haW5fcGFuZWwuY2xhc3NMaXN0LmFkZCgnZm9sZGVkJyk7XG59KTtcbmNvbnRlbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoZSkge1xuICAgIHJldHVybiBtYWluX3BhbmVsLmNsYXNzTGlzdC5yZW1vdmUoJ2ZvbGRlZCcpO1xufSk7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8vID09PT09PT0g0KDQsNCx0L7RgtCwINGBINC/0L7QtNGB0LrQsNC30LrQsNC80Lhcbi8vYWxlcnQoJzEnKTtcbnZhciBidXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjdGVzdE1vZGFsJyk7XG52YXIgUE9QVVBfVEVNUExBVEUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjbW9kYWwtdGVtcGxhdGUnKS5pbm5lckhUTUw7XG52YXIgcG9wdXBJbmRleCA9IDE7XG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIiwgZnVuY3Rpb24gKGUpIHtcbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy9yZXR1cm4gZmluZFBvcHVwKHBvcHVwSW5kZXgpO1xuICAgIH0sIDUwMCk7XG59KTtcblxuZnVuY3Rpb24gY3JlYXRlTW9kYWwoZWxlbSwgcGFyZW50QmxvY2spIHtcbiAgICAvL2FsZXJ0KCc0Jyk7XG4gICAgdmFyIGNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGNvbnRhaW5lci5jbGFzc05hbWUgPSAncG9wdXAnO1xuICAgIGNvbnRhaW5lci5pbm5lckhUTUwgPSBQT1BVUF9URU1QTEFURTtcbiAgICB2YXIgY29udGVudCA9IGVsZW0uZGF0YXNldC5wb3B1cFRleHQ7XG4gICAgdmFyIGFuY2hvckNsYXNzID0gZWxlbS5kYXRhc2V0LnBvcHVwUG9zaXRpb247XG4gICAgdmFyIGRpYWxXaW5kb3cgPSBjb250YWluZXIucXVlcnlTZWxlY3RvcignLmRpYWwtd2luZG93Jyk7XG4gICAgZGlhbFdpbmRvdy5jbGFzc0xpc3QuYWRkKGFuY2hvckNsYXNzKTtcbiAgICB2YXIgcG9wdXBUZXh0ID0gY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJy5kaWFsLXdpbmRvd19fdGV4dCcpO1xuICAgIHBvcHVwVGV4dC5pbm5lckhUTUwgPSBjb250ZW50O1xuICAgIHZhciBwb3B1cENvbnRhaW5lciA9IGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2NvbnRhaW5lcicpO1xuICAgIHBvcHVwQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ3Bvc19hYnMnKTtcbiAgICBpZiAoIXBhcmVudEJsb2NrLmNsYXNzTGlzdC5jb250YWlucygnbWFpbi1wYW5lbCcpKSB7XG4gICAgICAgIHZhciBtYWluUGFuZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubWFpbi1wYW5lbCcpO1xuICAgICAgICBtYWluUGFuZWwuc3R5bGUuekluZGV4ID0gJzAnO1xuICAgIH1cblxuICAgIHZhciBidG4gPSBjb250YWluZXIucXVlcnlTZWxlY3RvcignI3BvcHVwQ2xvc2UnKTtcbiAgICBidG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICAvL2RvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQoY29udGFpbmVyKTtcbiAgICAgICAgcGFyZW50QmxvY2sucmVtb3ZlQ2hpbGQoY29udGFpbmVyKTtcbiAgICAgICAgZWxlbS5jbGFzc0xpc3QucmVtb3ZlKCdoaWdodGxpZ2h0Jyk7XG4gICAgICAgIHZhciBtYWluUGFuZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubWFpbi1wYW5lbCcpO1xuICAgICAgICBtYWluUGFuZWwuc3R5bGUuekluZGV4ID0gJzEwMCc7XG4gICAgICAgIGZpbmRQb3B1cCgrK3BvcHVwSW5kZXgpO1xuICAgIH0pO1xuICAgIHJldHVybiBjb250YWluZXI7XG59XG5cbmZ1bmN0aW9uIHNob3dNb2RhbChlbGVtKSB7XG4gICAgLy9hbGVydCgnMycpO1xuICAgIHZhciBwb3NpdGlvbiA9IGVsZW0uZGF0YXNldC5wb3B1cFBvc2l0aW9uO1xuICAgIC8vdmFyIHBhcmVudEJsb2NrID0gZWxlbS5jbG9zZXN0KCcucG9wdXAtd3JhcHBlcicpO1xuICAgIHZhciBwYXJlbnRCbG9jayA9IGdldENsb3Nlc3RQYXJlbnQoZWxlbSwgJ3BvcHVwLXdyYXBwZXInKTtcbiAgICB2YXIgbW9kYWwgPSBjcmVhdGVNb2RhbChlbGVtLCBwYXJlbnRCbG9jayk7IC8vZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChtb2RhbCk7XG4gICAgLy9hbGVydCgnM19fMScpO1xuICAgIHBhcmVudEJsb2NrLmFwcGVuZENoaWxkKG1vZGFsKTtcbiAgICB2YXIgY29udGVudEJsb2NrID0gbW9kYWwucXVlcnlTZWxlY3RvcignLnBvcHVwX19jb250YWluZXInKTtcbiAgICB2YXIgcG9zID0gcG9zaXRpb24uc3BsaXQoJy0nKTtcbiAgICB2YXIgeCA9IHBvc1sxXSxcbiAgICAgICAgeSA9IHBvc1swXTtcbiAgICAvL2FsZXJ0KCczX18yJyk7XG4gICAgdmFyIGNvb3JkcyA9IGVsZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgdmFyIGxlZnQgPSB4ID09PSAnbGVmdCcgPyBjb29yZHMubGVmdCA6IGNvb3Jkcy5yaWdodCAtIGNvbnRlbnRCbG9jay5vZmZzZXRXaWR0aCAtIDEwO1xuICAgIHZhciB0b3AgPSB5ID09PSAndG9wJyA/IGNvb3Jkcy5ib3R0b20gKyAzNSA6IGNvb3Jkcy50b3AgLSBjb250ZW50QmxvY2sub2Zmc2V0SGVpZ2h0IC0gNTA7XG5cbiAgICAvL2FsZXJ0KCczX18zJyk7XG4gICAgaWYgKGVsZW0uY2xhc3NMaXN0LmNvbnRhaW5zKCdtYWluQ29udGVudF9mb290ZXInKSkge1xuICAgICAgICBsZWZ0ID0gbGVmdCAtIDIwO1xuICAgICAgICB0b3AgPSB0b3AgKyAyMDtcbiAgICB9XG4gICAgLy9hbGVydCgnM19fNCcpO1xuICAgIGVsZW0uY2xhc3NMaXN0LmFkZCgnaGlnaHRsaWdodCcpO1xuICAgIGNvbnRlbnRCbG9jay5zdHlsZS5sZWZ0ID0gbGVmdCArIFwicHhcIjtcbiAgICBjb250ZW50QmxvY2suc3R5bGUudG9wID0gdG9wICsgXCJweFwiO1xuICAgIC8vYWxlcnQoJzNfXzUnKTtcbn1cblxuZnVuY3Rpb24gZmluZFBvcHVwKGluZGV4KSB7XG4gICAgLy9hbGVydCgnMicpO1xuICAgIHZhciBzZWxlY3RvciA9IFwiW2RhdGEtcG9wdXAtaW5kZXg9XFxcIlwiICsgaW5kZXggKyBcIlxcXCJdXCI7XG4gICAgdmFyIGVsZW0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKTtcblxuICAgIGlmIChlbGVtKSB7XG4gICAgICAgIGlmICh3aW5kb3cuaW5uZXJXaWR0aCA8IDEwMjQgJiYgaW5kZXggPT09IDMpIHJldHVybiBmYWxzZTtcbiAgICAgICAgc2hvd01vZGFsKGVsZW0pO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZ2V0Q2xvc2VzdFBhcmVudChlbGVtLCBjbGFzc05hbWUpIHtcbiAgICB2YXIgcGFyZW50ID0gZWxlbS5wYXJlbnROb2RlO1xuICAgIGlmIChwYXJlbnQpIHtcbiAgICAgICAgd2hpbGUgKHBhcmVudCkge1xuICAgICAgICAgICAgaWYgKHBhcmVudC5jbGFzc0xpc3QuY29udGFpbnMoY2xhc3NOYW1lKSkge1xuICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2cocGFyZW50KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gcGFyZW50O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcGFyZW50ID0gcGFyZW50LnBhcmVudE5vZGVcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsIlwidXNlIHN0cmljdFwiO1xuXG4vL9GE0YPQvdC60YbQuNGPLdC00LXQutC+0YDQsNGC0L7RgCwg0LLQvtC30LLRgNCw0YnQsNC10YIg0L7QsdC10YDRgtC60YMg0LTQu9GPINGE0YPQvdC60YbQuNC4IGZ1bmMsINC60L7RgtC+0YDQsNGPINCy0YvQv9C+0LvQvdGP0LXRgtGB0Y8g0YDQsNC3INCyIG1zINGB0LXQutGD0L3QtFxuZnVuY3Rpb24gdGhyb3R0bGUoZnVuYywgbXMpIHtcbiAgICB2YXIgaXNUaHJvdHRsZWQgPSBmYWxzZSxcbiAgICAgICAgc2F2ZWRBcmdzLFxuICAgICAgICBzYXZlZFRoaXM7XG5cbiAgICBmdW5jdGlvbiB3cmFwcGVyKCkge1xuICAgICAgICBpZiAoaXNUaHJvdHRsZWQpIHtcbiAgICAgICAgICAgIC8vICgyKVxuICAgICAgICAgICAgc2F2ZWRBcmdzID0gYXJndW1lbnRzO1xuICAgICAgICAgICAgc2F2ZWRUaGlzID0gdGhpcztcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmMuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgLy8gKDEpXG5cbiAgICAgICAgaXNUaHJvdHRsZWQgPSB0cnVlO1xuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlzVGhyb3R0bGVkID0gZmFsc2U7IC8vICgzKVxuXG4gICAgICAgICAgICBpZiAoc2F2ZWRBcmdzKSB7XG4gICAgICAgICAgICAgICAgd3JhcHBlci5hcHBseShzYXZlZFRoaXMsIHNhdmVkQXJncyk7XG4gICAgICAgICAgICAgICAgc2F2ZWRBcmdzID0gc2F2ZWRUaGlzID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgbXMpO1xuICAgIH1cblxuICAgIHJldHVybiB3cmFwcGVyO1xufSJdfQ==
